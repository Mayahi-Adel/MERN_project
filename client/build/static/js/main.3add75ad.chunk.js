(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{65:function(e,t,n){},66:function(e,t,n){"use strict";n.r(t);var r=n(1),c=n(11),a=n.n(c),s=Object(r.createContext)(),i=n(8),o=n(6),u=n(5),l=n(2),d=n.n(l),j=n(4),p=n(29),b=n.n(p).a.create({baseURL:"/api/"}),v=function(){var e=Object(j.a)(d.a.mark((function e(t){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,b.get("/user/".concat(t));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),f=function(){var e=Object(j.a)(d.a.mark((function e(t){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,b.post("/user/upload",t);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),O=function(){var e=Object(j.a)(d.a.mark((function e(t,n){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,b.put("/user/".concat(t),{bio:n});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),m=function(){var e=Object(j.a)(d.a.mark((function e(){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,b.get("/user");case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),h=function(){var e=Object(j.a)(d.a.mark((function e(t,n){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,b.patch("/user/follow/".concat(t),{idToFollow:n});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),x=function(){var e=Object(j.a)(d.a.mark((function e(t,n){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,b.patch("/user/unfollow/".concat(t),{idToUnfollow:n});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),g=function(){var e=Object(j.a)(d.a.mark((function e(){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,b.get("/post");case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),w=function(){var e=Object(j.a)(d.a.mark((function e(t){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,b.post("/post",t);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),y=function(){var e=Object(j.a)(d.a.mark((function e(t,n){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,b.patch("/post/like/".concat(t),{idLiker:n});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),k=function(){var e=Object(j.a)(d.a.mark((function e(t,n){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,b.patch("/post/unlike/".concat(t),{idLiker:n});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),N=function(){var e=Object(j.a)(d.a.mark((function e(t,n){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,b.put("/post/".concat(t),{message:n});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),_=function(){var e=Object(j.a)(d.a.mark((function e(t){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",b.delete("post/".concat(t)));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),S=function(){var e=Object(j.a)(d.a.mark((function e(t,n,r,c){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,b.patch("/post/comment/".concat(t),{commenterId:n,text:r,commenterPseudo:c});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t,n,r,c){return e.apply(this,arguments)}}(),C=function(){var e=Object(j.a)(d.a.mark((function e(t,n,r){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,b.patch("/post/edit-comment/".concat(t),{commentId:n,text:r});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t,n,r){return e.apply(this,arguments)}}(),E=function(){var e=Object(j.a)(d.a.mark((function e(t,n){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,b.patch("/post/delete-comment/".concat(t),{commentId:n});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),I=function(){var e=Object(j.a)(d.a.mark((function e(t,n){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,b.post("/user/login",{email:t,password:n},{withCredentials:!0});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),T=function(){var e=Object(j.a)(d.a.mark((function e(t,n,r){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,b.post("/user/register",{pseudo:t,email:n,password:r});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t,n,r){return e.apply(this,arguments)}}(),F=function(){var e=Object(j.a)(d.a.mark((function e(){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,b.get("/user/logout",{withCredentials:!0});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),D=function(){var e=Object(j.a)(d.a.mark((function e(){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,b.get("/jwtid",{withCredentials:!0});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),L=n(30),P=n.n(L),U=n(0);var R=function(){var e=function(){var e=Object(j.a)(d.a.mark((function e(){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,F();case 3:t="jwt","undefined"!==window&&P.a.remove(t,{expires:1}),window.location="/",e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.log(e.t0);case 10:case"end":return e.stop()}var t}),e,null,[[0,7]])})));return function(){return e.apply(this,arguments)}}();return Object(U.jsx)("li",{onClick:e,children:Object(U.jsx)("img",{src:"./img/icons/logout.svg",alt:"logout"})})};var A=function(){var e=Object(r.useContext)(s),t=Object(u.c)((function(e){return e.user}));return Object(U.jsx)("nav",{children:Object(U.jsxs)("div",{className:"nav-container",children:[Object(U.jsx)("div",{className:"logo",children:Object(U.jsx)(i.b,{exact:"true",to:"/",children:Object(U.jsxs)("div",{className:"logo",children:[Object(U.jsx)("img",{src:"./img/icon.png",alt:"butterfly"}),Object(U.jsx)("h3",{children:"Butterfly"})]})})}),e?Object(U.jsxs)("ul",{children:[Object(U.jsx)("li",{}),Object(U.jsx)("li",{className:"welcome",children:Object(U.jsxs)(i.b,{exact:"true",to:"/profil",children:["Bienvenue ",null===t||void 0===t?void 0:t.pseudo]})}),Object(U.jsx)(R,{})]}):Object(U.jsxs)("ul",{children:[Object(U.jsx)("li",{}),Object(U.jsx)("li",{children:Object(U.jsx)(i.b,{exact:"true",to:"/profil",children:Object(U.jsx)("img",{src:"./img/icons/login.svg",alt:"login"})})})]})]})})},M=n(3),z="GET_USER",V="UPLOAD_PICTURE",B="UPDATE_BIO",G="FOLLOW_USER",H="UNFOLLOW_USER",W="GET_USER_ERRORS";var J=function(e){var t=e.idToFollow,n=e.type,c=Object(u.c)((function(e){return e.user})),a=Object(r.useState)(!1),s=Object(M.a)(a,2),i=s[0],o=s[1],l=Object(u.b)(),p=function(){l(function(e,t){return function(){var n=Object(j.a)(d.a.mark((function n(r){return d.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,h(e,t);case 3:r({type:G,payload:{idToFollow:t}}),n.next=9;break;case 6:n.prev=6,n.t0=n.catch(0),console.log(n.t0.message);case 9:case"end":return n.stop()}}),n,null,[[0,6]])})));return function(e){return n.apply(this,arguments)}}()}(null===c||void 0===c?void 0:c._id,t)),o(!0)},b=function(){var e,n;l((e=null===c||void 0===c?void 0:c._id,n=t,function(){var t=Object(j.a)(d.a.mark((function t(r){return d.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,x(e,n);case 3:r({type:H,payload:{idToUnfollow:n}}),t.next=9;break;case 6:t.prev=6,t.t0=t.catch(0),console.log(t.t0.message);case 9:case"end":return t.stop()}}),t,null,[[0,6]])})));return function(e){return t.apply(this,arguments)}}())),o(!1)};return Object(r.useEffect)((function(){var e;(null===c||void 0===c||null===(e=c.following)||void 0===e?void 0:e.includes(t))?o(!0):o(!1)}),[c,t]),Object(U.jsx)(U.Fragment,{children:i?Object(U.jsxs)(U.Fragment,{children:["suggestion"===n&&Object(U.jsx)("button",{className:"unfollow-btn",onClick:b,children:"Abonn\xe9"}),"card"===n&&Object(U.jsx)("img",{src:"./img/icons/checked.svg",alt:"checked",onClick:b})]}):Object(U.jsxs)(U.Fragment,{children:["suggestion"===n&&Object(U.jsx)("button",{className:"unfollow-btn",onClick:p,children:"Suivre"}),"card"===n&&Object(U.jsx)("img",{src:"./img/icons/check.svg",alt:"check",onClick:p})]})})};var K=function(){var e=Object(r.useState)(!0),t=Object(M.a)(e,2),n=t[0],c=t[1],a=Object(r.useState)(!0),s=Object(M.a)(a,2),i=s[0],o=s[1],l=Object(r.useState)([]),d=Object(M.a)(l,2),j=d[0],p=d[1],b=Object(u.c)((function(e){return e.user})),v=Object(u.c)((function(e){var t;return null===(t=e.users)||void 0===t?void 0:t.users}));return Object(r.useEffect)((function(){i&&v&&(!function(){var e=[];v.map((function(t){var n;return t._id===(null===b||void 0===b?void 0:b._id)||(null===t||void 0===t||null===(n=t.followers)||void 0===n?void 0:n.includes(b._id))?null:e.push(t._id)})),e.sort((function(){return.5-Math.random()})),window.innerHeight>780?e.length=5:window.innerHeight>720?e.length=4:e.length=2,p(e)}(),c(!1),o(!1))}),[v,b,i]),Object(U.jsxs)("div",{className:"get-friends-container",children:[Object(U.jsx)("h4",{children:"Suggestions"}),n?Object(U.jsx)("div",{className:"icon",children:Object(U.jsx)("i",{className:"fas fa-spinner fa-pulse"})}):Object(U.jsx)("ul",{children:j&&j.map((function(e){for(var t=0;t<v.length;t++)if(e===v[t]._id)return Object(U.jsxs)("li",{className:"user-hint",children:[Object(U.jsx)("img",{src:v[t].picture,alt:"user-pic"}),Object(U.jsx)("p",{children:v[t].pseudo}),Object(U.jsx)(J,{idToFollow:v[t]._id,type:"suggestion"})]},e);return null}))})]})};var Q=function(e){return Object(U.jsx)("div",{className:"left-nav-container",children:Object(U.jsx)("div",{className:"icons",children:Object(U.jsxs)("div",{className:"icons-bis",children:[Object(U.jsx)(i.b,{to:"/",exact:"true",className:"home"===e.active?"active-left-nav":null,children:Object(U.jsx)("img",{src:"./img/icons/home.svg",alt:"home"})}),Object(U.jsx)(i.b,{to:"/trending",exact:"true",className:"trending"===e.active?"active-left-nav":null,children:Object(U.jsx)("img",{src:"./img/icons/rocket.svg",alt:"trending"})}),Object(U.jsx)(i.b,{to:"/profil",exact:"true",className:"profil"===e.active?"active-left-nav":null,children:Object(U.jsx)("img",{src:"./img/icons/user.svg",alt:"user profil"})})]})})})};var q=function(){var e=Object(r.useState)(""),t=Object(M.a)(e,2),n=t[0],c=t[1],a=Object(r.useState)(""),s=Object(M.a)(a,2),i=s[0],o=s[1],u=Object(r.useState)(""),l=Object(M.a)(u,2),p=l[0],b=l[1],v=""===i||""===n,f=function(){var e=Object(j.a)(d.a.mark((function e(t){var r,a,s,u,l,j,p;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),e.prev=1,e.next=4,I(n,i);case 4:window.location="/",e.next=13;break;case 7:e.prev=7,e.t0=e.catch(1),c(""),o(""),""!==(null===e.t0||void 0===e.t0||null===(r=e.t0.response)||void 0===r||null===(a=r.data)||void 0===a||null===(s=a.errors)||void 0===s?void 0:s.email)&&b(null===(u=e.t0.response)||void 0===u?void 0:u.data.errors.email),""!==(null===e.t0||void 0===e.t0||null===(l=e.t0.response)||void 0===l||null===(j=l.data)||void 0===j||null===(p=j.errors)||void 0===p?void 0:p.password)&&b(e.t0.response.data.errors.password);case 13:case"end":return e.stop()}}),e,null,[[1,7]])})));return function(t){return e.apply(this,arguments)}}();return Object(r.useEffect)((function(){document.title="Connexion - butterfly Network"}),[]),Object(U.jsxs)(U.Fragment,{children:[Object(U.jsx)("h1",{children:"Connexion"}),p&&Object(U.jsx)("p",{className:"error",children:p}),Object(U.jsxs)("form",{onSubmit:f,method:"POST",className:"form",children:[Object(U.jsx)("input",{type:"text","aria-label":"Email",placeholder:"Adresse email",value:n,onChange:function(e){var t=e.target;return c(t.value)}}),Object(U.jsx)("input",{type:"password","aria-label":"Mot de passe",placeholder:"Mot de passe",value:i,onChange:function(e){var t=e.target;return o(t.value)}}),Object(U.jsx)("button",{disabled:v,type:"submit",className:"".concat(v&&"opacity-50"),children:"Connexion"})]})]})};var X=function(){var e=Object(r.useState)(!1),t=Object(M.a)(e,2),n=t[0],c=t[1],a=Object(r.useState)(""),s=Object(M.a)(a,2),i=s[0],u=s[1],l=Object(r.useState)(""),p=Object(M.a)(l,2),b=p[0],v=p[1],f=Object(r.useState)(""),O=Object(M.a)(f,2),m=O[0],h=O[1],x=Object(r.useState)(""),g=Object(M.a)(x,2),w=g[0],y=g[1],k=Object(o.f)(),N=Object(r.useState)(""),_=Object(M.a)(N,2),S=_[0],C=_[1],E=""===m||""===b||""===i||""===w,I=function(){var e=Object(j.a)(d.a.mark((function e(t){var n,r,a,s,o,l,j,p,f,O;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),C(""),m===w){e.next=6;break}C("Les mots de passe ne correspondent pas"),e.next=23;break;case 6:return e.prev=6,e.next=9,T(i,b,m);case 9:k("/profil"),c(!0),e.next=23;break;case 13:e.prev=13,e.t0=e.catch(6),u(""),v(""),h(""),y(""),""!==(null===e.t0||void 0===e.t0||null===(n=e.t0.response)||void 0===n||null===(r=n.data)||void 0===r||null===(a=r.errors)||void 0===a?void 0:a.email)&&C(null===(s=e.t0.response)||void 0===s?void 0:s.data.errors.email),""!==(null===e.t0||void 0===e.t0||null===(o=e.t0.response)||void 0===o||null===(l=o.data)||void 0===l||null===(j=l.errors)||void 0===j?void 0:j.password)&&C(e.t0.response.data.errors.password),""!==(null===e.t0||void 0===e.t0||null===(p=e.t0.response)||void 0===p||null===(f=p.data)||void 0===f||null===(O=f.errors)||void 0===O?void 0:O.pseudo)&&C(e.t0.response.data.errors.pseudo),console.log(e.t0.message);case 23:case"end":return e.stop()}}),e,null,[[6,13]])})));return function(t){return e.apply(this,arguments)}}();return Object(U.jsx)(U.Fragment,{children:n?Object(U.jsxs)(U.Fragment,{children:[Object(U.jsx)(q,{}),Object(U.jsx)("h4",{className:"success",children:"Enregistrement r\xe9ussi, veuillez vous connecter"})]}):Object(U.jsxs)(U.Fragment,{children:[Object(U.jsx)("h1",{children:"Inscription"}),S&&Object(U.jsx)("p",{className:"error",children:S}),Object(U.jsxs)("form",{onSubmit:I,id:"sign-up-form",children:[Object(U.jsx)("input",{type:"text","aria-label":"Pseudo",placeholder:"Pseudo",value:i,onChange:function(e){var t=e.target;return u(t.value)}}),Object(U.jsx)("input",{type:"text","aria-label":"Email",placeholder:"Adresse Email",value:b,onChange:function(e){var t=e.target;return v(t.value)}}),Object(U.jsx)("input",{type:"password","aria-label":"Mot de passe",placeholder:"Mot de passe",value:m,onChange:function(e){var t=e.target;return h(t.value)}}),Object(U.jsx)("input",{type:"password","aria-label":"Confirmer mot de passe",placeholder:"Confirmer mot de passe",value:w,onChange:function(e){var t=e.target;return y(t.value)}}),Object(U.jsx)("button",{disabled:E,type:"submit",className:"".concat(E&&"opacity-50"),children:"S'inscrire"})]})]})})};var Y=function(e){e.signIn,e.signUp;var t=Object(r.useState)(!1),n=Object(M.a)(t,2),c=n[0],a=n[1];Object(r.useEffect)((function(){a(!1)}),[]);var s=function(e){"register"===e.target.id?a(!0):"login"===e.target.id&&a(!1)};return Object(U.jsxs)("div",{className:"log__form",children:[Object(U.jsx)("div",{className:"form__container",children:c?Object(U.jsx)(X,{}):Object(U.jsx)(q,{})}),c?Object(U.jsx)("div",{className:"dont_have_account",children:Object(U.jsxs)("span",{className:"dont_have_account_span",children:["Vous avez pas un compte?",Object(U.jsx)("p",{onClick:s,id:"login",children:"Connectez vous"})]})}):Object(U.jsx)("div",{className:"dont_have_account",children:Object(U.jsxs)("span",{className:"dont_have_account_span",children:["Vous n'avez pas de compte?",Object(U.jsx)("p",{onClick:s,id:"register",children:"Inscrivez vous"})]})})]})},Z="GET_POSTS",$="GET_ALL_POSTS",ee="LIKE_POST",te="UNLIKE_POST",ne="UPDATE_POST",re="DELETE_POST",ce="EDIT_COMMENT",ae="DELETE_COMMENT",se="GET_TRENDS",ie="GET_POST_ERRORS",oe=function(e){return function(){var t=Object(j.a)(d.a.mark((function t(n){var r,c;return d.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,g();case 3:return t.next=5,t.sent;case 5:r=t.sent,c=r.data.slice(0,e),n({type:Z,payload:c}),n({type:$,payload:r.data}),t.next=14;break;case 11:t.prev=11,t.t0=t.catch(0),console.log(t.t0);case 14:case"end":return t.stop()}}),t,null,[[0,11]])})));return function(e){return t.apply(this,arguments)}}()},ue=function(e){return function(){var t=Object(j.a)(d.a.mark((function t(n){var r,c;return d.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,w(e);case 3:(null===(c=t.sent)||void 0===c||null===(r=c.data)||void 0===r?void 0:r.errors)?n({type:ie,payload:c.data.errors}):n({type:ie,payload:""}),t.next=10;break;case 7:t.prev=7,t.t0=t.catch(0),console.log(t.t0.errors);case 10:case"end":return t.stop()}}),t,null,[[0,7]])})));return function(e){return t.apply(this,arguments)}}()},le=function(e){var t=Date.parse(e);return new Date(t).toLocaleDateString("fr-FR",{hour:"2-digit",minute:"2-digit",second:"2-digit",weekday:"long",year:"numeric",month:"short",day:"numeric"}).toString()},de=function(e){return new Date(e).toLocaleDateString("fr-FR",{hour:"2-digit",minute:"2-digit",second:"2-digit",weekday:"long",year:"numeric",month:"short",day:"numeric"}).toString()},je=function(e){return void 0===e||null===e||"object"===typeof e&&0===Object.keys(e).length||"string"===typeof e&&0===e.trim().length};var pe=function(){var e,t,n,c,a=Object(r.useState)(!0),s=Object(M.a)(a,2),o=s[0],l=s[1],p=Object(r.useState)(""),b=Object(M.a)(p,2),v=b[0],f=b[1],O=Object(r.useState)(""),m=Object(M.a)(O,2),h=m[0],x=m[1],g=Object(r.useState)(""),w=Object(M.a)(g,2),y=w[0],k=w[1],N=Object(r.useState)(""),_=Object(M.a)(N,2),S=_[0],C=_[1],E=Object(u.c)((function(e){return e.user})),I=Object(u.c)((function(e){return e.errors.postErrors})),T=Object(u.b)();Object(r.useEffect)((function(){E&&l(!1);!function(){for(var e=v.split(" "),t=0;t<e.length;t++)if(e[t].includes("https://www.yout")||e[t].includes("https://yout")){var n=e[t].replace("watch?v=","embed/");k(n.split("&")[0]),e.splice(t,1),f(e.join(" ")),x("")}}()}),[E,v,y]);var F=function(){var e=Object(j.a)(d.a.mark((function e(){var t;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(v||h||y)){e.next=10;break}return(t=new FormData).append("posterId",E._id),t.append("message",v),S&&t.append("file",S),t.append("video",y),e.next=8,T(ue(t));case 8:T(oe()),D();case 10:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),D=function(){f(""),x(""),k(""),C("")};return Object(U.jsx)("div",{className:"post-container",children:o?Object(U.jsx)("i",{className:"fas fa-spinner fa-pulse"}):Object(U.jsxs)(U.Fragment,{children:[Object(U.jsxs)("div",{className:"data",children:[Object(U.jsxs)("p",{children:[Object(U.jsx)("span",{children:null===E||void 0===E||null===(e=E.following)||void 0===e?void 0:e.length})," Abonnement",(null===E||void 0===E||null===(t=E.following)||void 0===t?void 0:t.length)>1&&"s"]}),Object(U.jsxs)("p",{children:[Object(U.jsx)("span",{children:null===E||void 0===E||null===(n=E.followers)||void 0===n?void 0:n.length})," Abonn\xe9",(null===E||void 0===E||null===(c=E.followers)||void 0===c?void 0:c.length)>1&&"s"]})]}),Object(U.jsx)(i.b,{exact:"true",to:"/profil",children:Object(U.jsx)("div",{className:"user-info",children:Object(U.jsx)("img",{src:null===E||void 0===E?void 0:E.picture,alt:"user-pic"})})}),Object(U.jsxs)("div",{className:"post-form",children:[Object(U.jsx)("textarea",{name:"message",id:"message",placeholder:"Quoi de neuf ?",onChange:function(e){return f(e.target.value)},value:v}),(v||y.length>20||h)&&Object(U.jsxs)("li",{className:"card-container",children:[Object(U.jsx)("div",{className:"card-left",children:Object(U.jsx)("img",{src:null===E||void 0===E?void 0:E.picture,alt:"user-pic"})}),Object(U.jsxs)("div",{className:"card-right",children:[Object(U.jsxs)("div",{className:"card-header",children:[Object(U.jsx)("div",{className:"pseudo",children:Object(U.jsx)("h3",{children:null===E||void 0===E?void 0:E.pseudo})}),Object(U.jsx)("span",{children:de(Date.now())})]}),Object(U.jsxs)("div",{className:"content",children:[Object(U.jsx)("p",{children:v}),h&&Object(U.jsx)("img",{src:h,alt:"post"}),y&&Object(U.jsx)("iframe",{src:y,frameBorder:"0",allow:"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture",allowFullScreen:!0,title:y})]})]})]}),Object(U.jsxs)("div",{className:"footer-form",children:[Object(U.jsx)("div",{className:"icon",children:y?Object(U.jsx)("button",{onClick:function(){return k("")},children:"Supprimer video"}):Object(U.jsxs)(U.Fragment,{children:[Object(U.jsx)("img",{src:"./img/icons/picture.svg",alt:"add"}),Object(U.jsx)("input",{type:"file",id:"file",name:"file",accept:".jpg, .jpeg, .png",onChange:function(e){return function(e){x(URL.createObjectURL(e.target.files[0])),C(e.target.files[0]),k("")}(e)}})]})}),(null===I||void 0===I?void 0:I.format)&&Object(U.jsx)("p",{children:I.format}),(null===I||void 0===I?void 0:I.maxSize)&&Object(U.jsx)("p",{children:I.maxSize}),Object(U.jsxs)("div",{className:"btn-send",children:[(v||y.length>20||h)&&Object(U.jsx)("button",{className:"cancel",onClick:D,children:"Annuler message"}),Object(U.jsx)("button",{className:"send",onClick:F,children:"Envoyer"})]})]})]})]})})};var be=function(e){var t=e.comment,n=e.postId,c=Object(r.useState)(!1),a=Object(M.a)(c,2),i=a[0],o=a[1],l=Object(r.useState)(!1),p=Object(M.a)(l,2),b=p[0],v=p[1],f=Object(r.useState)(""),O=Object(M.a)(f,2),m=O[0],h=O[1],x=Object(r.useContext)(s),g=Object(u.b)(),w=function(){g(function(e,t){return function(){var n=Object(j.a)(d.a.mark((function n(r){return d.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:try{E(e,t),r({type:ae,payload:{postId:e,commentId:t}})}catch(c){console.log(c)}case 1:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}()}(n,t._id))};return Object(r.useEffect)((function(){x===t.commenterId&&o(!0)}),[x,t.commenterId]),Object(U.jsxs)("div",{className:"edit-comment ",children:[i&&!b&&Object(U.jsx)("span",{onClick:function(){return v(!b)},children:Object(U.jsx)("img",{src:"./img/icons/edit.svg",alt:"edit comment"})}),i&&b&&Object(U.jsxs)("form",{onSubmit:function(e){e.preventDefault(),m&&(g(function(e,t,n){return function(){var r=Object(j.a)(d.a.mark((function r(c){return d.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:try{C(e,t,n),c({type:ce,payload:{postId:e,commentId:t,text:n}})}catch(a){console.log(a)}case 1:case"end":return r.stop()}}),r)})));return function(e){return r.apply(this,arguments)}}()}(n,t._id,m)),h(""),v(!1))},className:"edit-comment-form",children:[Object(U.jsx)("label",{htmlFor:"text",onClick:function(){return v(!b)},children:"Editer"}),Object(U.jsx)("input",{type:"text",name:"text",onChange:function(e){return h(e.target.value)},defaultValue:t.text}),Object(U.jsxs)("div",{className:"btn",children:[Object(U.jsx)("span",{onClick:function(){window.confirm("Voulez-vous supprimer ce commentaire ?")&&w()},children:Object(U.jsx)("img",{src:"./img/icons/trash.svg",alt:"delete comment"})}),Object(U.jsx)("input",{type:"submit",value:"Valider modifications"})]})]})]})};var ve=function(e){var t=e.post,n=Object(r.useState)(""),c=Object(M.a)(n,2),a=c[0],s=c[1],i=Object(u.c)((function(e){return e.users})),o=Object(u.c)((function(e){return e.user})),l=Object(u.b)();return Object(U.jsxs)("div",{className:"comments-container",children:[t.comments.map((function(e){var n;return Object(U.jsxs)("div",{className:e.commenterId===o._id?"comment-container client":"comment-container",children:[Object(U.jsx)("div",{className:"left-part",children:Object(U.jsx)("img",{src:null===i||void 0===i||null===(n=i.users)||void 0===n?void 0:n.map((function(t){return t._id===e.commenterId?t.picture:null})).join(""),alt:"commenter-pic"})}),Object(U.jsxs)("div",{className:"right-part",children:[Object(U.jsxs)("div",{className:"comment-header",children:[Object(U.jsxs)("div",{className:"pseudo",children:[Object(U.jsx)("h3",{children:e.commenterPseudo}),Object(U.jsx)("span",{children:e.commenterId!==o._id&&Object(U.jsx)(J,{idToFollow:e.commenterId,type:"card"})})]}),Object(U.jsx)("span",{children:de(e.timestamps)})]}),Object(U.jsx)("p",{children:e.text}),Object(U.jsx)(be,{comment:e,postId:t._id})]})]},e._id)})),o._id&&Object(U.jsxs)("form",{onSubmit:function(e){var n,r,c,i;e.preventDefault(),a&&l((n=t._id,r=o._id,c=a,i=o.pseudo,function(){var e=Object(j.a)(d.a.mark((function e(t){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:try{S(n,r,c,i),t({type:"ADD_COMMENT",payload:{postId:n,commenterId:r,text:c,commenterPseudo:i}})}catch(a){console.log(a)}case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())).then((function(){return l(oe())})).then((function(){return s("")}))},className:"comment-form",children:[Object(U.jsx)("input",{type:"text",name:"comment",onChange:function(e){return s(e.target.value)},value:a,placeholder:"Laisser un commentaire"}),Object(U.jsx)("input",{type:"submit",value:"Envoyer"})]})]})};var fe=function(e){var t=e.id,n=Object(u.b)(),r=function(){var e;n((e=t,function(){var t=Object(j.a)(d.a.mark((function t(n){return d.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,_(e);case 3:n({type:re,payload:{postId:e}}),t.next=9;break;case 6:t.prev=6,t.t0=t.catch(0),console.log(t.t0);case 9:case"end":return t.stop()}}),t,null,[[0,6]])})));return function(e){return t.apply(this,arguments)}}()))};return Object(U.jsx)("div",{onClick:function(){window.confirm("Voulez-vous supprimer cet article ?")&&r()},children:Object(U.jsx)("img",{src:"./img/icons/trash.svg",alt:"delete post"})})},Oe=n(31);n(64);var me=function(e){var t=e.post,n=Object(r.useState)(!1),c=Object(M.a)(n,2),a=c[0],i=c[1],o=Object(r.useContext)(s),l=Object(u.b)();return Object(r.useEffect)((function(){t.likers.includes(o)?i(!0):i(!1)}),[o,t.likers,a]),Object(U.jsxs)("div",{className:"like-container",children:[null===o&&Object(U.jsx)(Oe.a,{trigger:Object(U.jsx)("img",{src:"./img/icons/heart.svg",alt:"like"}),position:["bottom center","bottom right","bottom left"],closeOnDocumentClick:!0,children:Object(U.jsx)("div",{children:"Connectez-vous pour aimer un post!"})}),o&&!a&&Object(U.jsx)("img",{src:"./img/icons/heart.svg",alt:"like",onClick:function(){var e,n;l((e=t._id,n=o,function(){var t=Object(j.a)(d.a.mark((function t(r){return d.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,y(e,n);case 3:r({type:ee,payload:{postId:e,userId:n}}),t.next=9;break;case 6:t.prev=6,t.t0=t.catch(0),console.log(t.t0);case 9:case"end":return t.stop()}}),t,null,[[0,6]])})));return function(e){return t.apply(this,arguments)}}())),i(!0)}}),o&&a&&Object(U.jsx)("img",{src:"./img/icons/heart-filled.svg",alt:"lunike",onClick:function(){var e,n;l((e=t._id,n=o,function(){var t=Object(j.a)(d.a.mark((function t(r){return d.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,k(e,n);case 3:r({type:te,payload:{postId:e,userId:n}}),t.next=9;break;case 6:t.prev=6,t.t0=t.catch(0),console.log(t.t0);case 9:case"end":return t.stop()}}),t,null,[[0,6]])})));return function(e){return t.apply(this,arguments)}}())),i(!1)}}),Object(U.jsx)("span",{children:t.likers.length})]})};var he=function(e){var t,n,c=e.post,a=Object(r.useState)(!0),s=Object(M.a)(a,2),i=s[0],o=s[1],l=Object(r.useState)(!1),p=Object(M.a)(l,2),b=p[0],v=p[1],f=Object(r.useState)(null),O=Object(M.a)(f,2),m=O[0],h=O[1],x=Object(r.useState)(!1),g=Object(M.a)(x,2),w=g[0],y=g[1],k=Object(u.c)((function(e){return e.users})),_=Object(u.c)((function(e){return e.user})),S=Object(u.b)();return Object(r.useEffect)((function(){k&&o(!1)}),[k]),Object(U.jsx)("li",{className:"card-container",children:i?Object(U.jsx)("i",{className:"fas fa-spinner fa-spin"}):Object(U.jsxs)(U.Fragment,{children:[Object(U.jsx)("div",{className:"card-left",children:Object(U.jsx)("img",{src:null===k||void 0===k||null===(t=k.users)||void 0===t?void 0:t.map((function(e){return e._id===c.posterId?e.picture:null})).join(""),alt:"poster-pic"})}),Object(U.jsxs)("div",{className:"card-right",children:[Object(U.jsxs)("div",{className:"card-header",children:[Object(U.jsxs)("div",{className:"pseudo",children:[Object(U.jsx)("h3",{children:null===k||void 0===k||null===(n=k.users)||void 0===n?void 0:n.map((function(e){return e._id===c.posterId?e.pseudo:null}))}),c.posterId!==(null===_||void 0===_?void 0:_._id)&&Object(U.jsx)("span",{children:Object(U.jsx)(J,{idToFollow:c.posterId,type:"card"})})]}),Object(U.jsx)("span",{children:le(c.createdAt)})]}),b?Object(U.jsxs)("div",{className:"update-post",children:[Object(U.jsx)("textarea",{defaultValue:c.message,onChange:function(e){return h(e.target.value)}}),Object(U.jsx)("div",{className:"button-container",children:Object(U.jsx)("button",{className:"btn",onClick:function(){var e,t;m&&S((e=c._id,t=m,function(){var n=Object(j.a)(d.a.mark((function n(r){return d.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,N(e,t);case 3:r({type:ne,payload:{postId:e,message:t}}),n.next=9;break;case 6:n.prev=6,n.t0=n.catch(0),console.log(n.t0);case 9:case"end":return n.stop()}}),n,null,[[0,6]])})));return function(e){return n.apply(this,arguments)}}())),v(!1)},children:"Valider modification"})})]}):Object(U.jsx)("p",{children:c.message}),c.picture&&Object(U.jsx)("img",{src:c.picture,alt:"card-pic",className:"card-pic"}),c.video&&Object(U.jsx)("iframe",{width:"500",height:"300",src:c.video,frameBorder:"0",allow:"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture",allowFullScreen:!0,title:c._id}),_._id===c.posterId&&Object(U.jsxs)("div",{className:"button-container",children:[Object(U.jsx)("div",{onClick:function(){return v(!b)},children:Object(U.jsx)("img",{src:"./img/icons/edit.svg",alt:"edit post"})}),Object(U.jsx)(fe,{id:c._id})]}),Object(U.jsxs)("div",{className:"card-footer",children:[Object(U.jsxs)("div",{className:"comment-icon",children:[Object(U.jsx)("img",{onClick:function(){return y(!w)},src:"./img/icons/message1.svg",alt:"edit-comment"}),Object(U.jsx)("span",{children:c.comments.length})]}),Object(U.jsx)(me,{post:c}),Object(U.jsx)("img",{src:"./img/icons/share.svg",alt:"share post"})]}),w&&Object(U.jsx)(ve,{post:c})]})]})},c._id)};var xe=function(){var e=Object(r.useState)(!0),t=Object(M.a)(e,2),n=t[0],c=t[1],a=Object(r.useState)(5),s=Object(M.a)(a,2),i=s[0],o=s[1],l=Object(u.b)(),d=Object(u.c)((function(e){return e.posts})),j=function(){window.innerHeight+document.documentElement.scrollTop+1>document.scrollingElement.scrollHeight&&c(!0)};return Object(r.useEffect)((function(){return n&&(l(oe(i)),c(!1),o(i+5)),window.addEventListener("scroll",j),function(){return window.removeEventListener("scroll",j)}}),[n,l,i]),Object(U.jsx)("div",{className:"thread-container",children:Object(U.jsx)("ul",{children:!je(d[0])&&d.map((function(e){return Object(U.jsx)(he,{post:e},e._id)}))})})};var ge=function(){var e=Object(u.c)((function(e){return e.allPosts})),t=Object(u.c)((function(e){return e.users})),n=Object(u.c)((function(e){return e.trends})),c=Object(u.b)();return Object(r.useEffect)((function(){if(!je(e)){var t=Object.keys(e).map((function(t){return e[t]})).sort((function(e,t){return t.likers.length-e.likers.length}));t.length=3,c((n=t,function(e){e({type:se,payload:n})}))}var n}),[e,c]),Object(U.jsxs)("div",{className:"trending-container",children:[Object(U.jsx)("h4",{children:"Trending"}),Object(U.jsx)(i.b,{exact:"true",to:"/Trending",children:Object(U.jsx)("ul",{children:n.length&&n.map((function(e){return Object(U.jsxs)("li",{children:[Object(U.jsxs)("div",{children:[e.picture&&Object(U.jsx)("img",{src:e.picture,alt:"post-pic"}),e.video&&Object(U.jsx)("iframe",{src:e.video,frameBorder:"0",allow:"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture",allowFullScreen:!0,title:e._id}),je(e.picture)&&je(e.video)&&Object(U.jsx)("img",{src:t[0]&&t.map((function(t){return t._id===e.posterId?t.picture:null})).join(""),alt:"user-pic"})]}),Object(U.jsxs)("div",{className:"trend-content",children:[Object(U.jsx)("p",{children:null===e||void 0===e?void 0:e.message}),Object(U.jsx)("span",{children:"Lire"})]})]},e._id)}))})})]})};var we=function(){var e=Object(r.useContext)(s);return Object(U.jsxs)(U.Fragment,{children:[Object(U.jsx)(Q,{active:"home"}),Object(U.jsxs)("div",{className:"home",children:[Object(U.jsxs)("div",{className:"main",children:[Object(U.jsx)("div",{className:"profil",children:Object(U.jsx)("div",{className:"profil__container",children:e?Object(U.jsx)(pe,{}):Object(U.jsx)(Y,{signIn:!1,signUp:!0})})}),Object(U.jsx)(xe,{})]}),Object(U.jsx)("div",{className:"right-side",children:Object(U.jsx)("div",{className:"right-side-container",children:Object(U.jsxs)("div",{className:"wrapper",children:[Object(U.jsx)(ge,{}),e&&Object(U.jsx)(K,{})]})})})]})]})};var ye=function(){var e=Object(r.useState)(),t=Object(M.a)(e,2),n=t[0],c=t[1],a=Object(u.b)(),s=Object(u.c)((function(e){return e.user}));return Object(U.jsxs)("form",{onSubmit:function(e){e.preventDefault();var t=new FormData;t.append("name",null===s||void 0===s?void 0:s.pseudo),t.append("userId",null===s||void 0===s?void 0:s._id),t.append("file",n),a(function(e,t){return function(){var n=Object(j.a)(d.a.mark((function n(r){var c,a,s,i;return d.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,f(e);case 3:if(!(null===(a=n.sent)||void 0===a||null===(c=a.data)||void 0===c?void 0:c.errors)){n.next=8;break}r({type:W,payload:a.data.errors}),n.next=13;break;case 8:return r({type:W,payload:""}),n.next=11,v(t);case 11:i=n.sent,r({type:V,payload:null===i||void 0===i||null===(s=i.data)||void 0===s?void 0:s.picture});case 13:n.next=18;break;case 15:n.prev=15,n.t0=n.catch(0),console.log(n.t0.message);case 18:case"end":return n.stop()}}),n,null,[[0,15]])})));return function(e){return n.apply(this,arguments)}}()}(t,null===s||void 0===s?void 0:s._id))},className:"upload-pic",children:[Object(U.jsx)("label",{htmlFor:"file",children:"Changer d'image"}),Object(U.jsx)("input",{type:"file",id:"file",name:"file",accept:".jpg, .jpeg, .png",onChange:function(e){return c(e.target.files[0])},style:{display:"none"}}),Object(U.jsx)("br",{}),Object(U.jsx)("input",{type:"submit",value:"Envoyer"})]})};var ke=function(){var e,t,n,c=Object(r.useState)(""),a=Object(M.a)(c,2),s=a[0],i=a[1],o=Object(r.useState)(!1),l=Object(M.a)(o,2),p=l[0],b=l[1],v=Object(r.useState)(!1),f=Object(M.a)(v,2),m=f[0],h=f[1],x=Object(r.useState)(!1),g=Object(M.a)(x,2),w=g[0],y=g[1],k=Object(u.c)((function(e){return e.user})),N=Object(u.c)((function(e){return e.users})),_=Object(u.c)((function(e){return e.errors.userErrors})),S=Object(u.b)();return Object(U.jsxs)(U.Fragment,{children:[Object(U.jsx)(Q,{active:"profil"}),Object(U.jsx)("div",{className:"profil__title",children:Object(U.jsxs)("h1",{children:["Profil de ",null===k||void 0===k?void 0:k.pseudo]})}),Object(U.jsxs)("div",{className:"profil__contain",children:[Object(U.jsx)("div",{children:Object(U.jsx)("div",{className:"update-container",children:Object(U.jsxs)("div",{className:"left-part",children:[Object(U.jsx)("h3",{children:"Photo de profil"}),Object(U.jsx)("img",{src:null===k||void 0===k?void 0:k.picture,alt:"user-pic"}),Object(U.jsx)(ye,{}),Object(U.jsx)("p",{children:null===_||void 0===_?void 0:_.maxSize}),Object(U.jsx)("p",{children:null===_||void 0===_?void 0:_.format})]})})}),Object(U.jsxs)("div",{className:"right-part",children:[Object(U.jsxs)("div",{className:"bio-update",children:[Object(U.jsx)("h3",{children:"Bio"}),p?Object(U.jsxs)(U.Fragment,{children:[Object(U.jsx)("textarea",{defaultValue:null===k||void 0===k?void 0:k.bio,onChange:function(e){return i(e.target.value)}}),Object(U.jsx)("button",{onClick:function(){S(function(e,t){return function(){var n=Object(j.a)(d.a.mark((function n(r){return d.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,O(e,t);case 3:r({type:B,payload:t}),n.next=9;break;case 6:n.prev=6,n.t0=n.catch(0),console.log(n.t0);case 9:case"end":return n.stop()}}),n,null,[[0,6]])})));return function(e){return n.apply(this,arguments)}}()}(k._id,s)),b(!1)},children:"Valider Modifications"})]}):Object(U.jsxs)(U.Fragment,{children:[Object(U.jsx)("p",{onClick:function(){return b(!p)},children:null===k||void 0===k?void 0:k.bio}),Object(U.jsx)("button",{onClick:function(){return b(!p)},children:"Modifier bio"})]})]}),Object(U.jsxs)("h4",{children:["Membre depuis le : ",le(null===k||void 0===k?void 0:k.createdAt)]}),Object(U.jsxs)("h5",{onClick:function(){return h(!0)},children:["Abonnements : ",null===k||void 0===k||null===(e=k.following)||void 0===e?void 0:e.length]}),Object(U.jsxs)("h5",{onClick:function(){return y(!0)},children:["Abonn\xe9s : ",null===k||void 0===k||null===(t=k.followers)||void 0===t?void 0:t.length]})]})]}),m&&Object(U.jsx)("div",{className:"popup-profil-container",children:Object(U.jsxs)("div",{className:"modal",children:[Object(U.jsx)("h3",{children:"Abonnements"}),Object(U.jsx)("span",{className:"cross",onClick:function(){return h(!1)},children:"\u2715"}),Object(U.jsx)("ul",{children:null===N||void 0===N||null===(n=N.users)||void 0===n?void 0:n.map((function(e){for(var t=0;t<(null===k||void 0===k||null===(n=k.following)||void 0===n?void 0:n.length);t++){var n;if(e._id===(null===k||void 0===k?void 0:k.following[t]))return Object(U.jsxs)("li",{children:[Object(U.jsx)("img",{src:null===e||void 0===e?void 0:e.picture,alt:"user-pic"}),Object(U.jsx)("h4",{children:null===e||void 0===e?void 0:e.pseudo}),Object(U.jsx)("div",{className:"follow-handler",children:Object(U.jsx)(J,{idToFollow:e._id,type:"suggestion"})})]},e._id)}return null}))})]})}),w&&Object(U.jsx)("div",{className:"popup-profil-container",children:Object(U.jsxs)("div",{className:"modal",children:[Object(U.jsx)("h3",{children:"Abonn\xe9s"}),Object(U.jsx)("span",{className:"cross",onClick:function(){return y(!1)},children:"\u2715"}),Object(U.jsx)("ul",{children:null===N||void 0===N?void 0:N.users.map((function(e){for(var t=0;t<(null===k||void 0===k?void 0:k.followers.length);t++)if(e._id===(null===k||void 0===k?void 0:k.followers[t]))return Object(U.jsxs)("li",{children:[Object(U.jsx)("img",{src:null===e||void 0===e?void 0:e.picture,alt:"user-pic"}),Object(U.jsx)("h4",{children:null===e||void 0===e?void 0:e.pseudo}),Object(U.jsx)("div",{className:"follow-handler",children:Object(U.jsx)(J,{idToFollow:e._id,type:"suggestion"})})]},e._id);return null}))})]})})]})};var Ne=function(){var e=Object(r.useContext)(s);return Object(U.jsx)("div",{className:"profil",children:e?Object(U.jsx)(ke,{}):Object(U.jsxs)("div",{className:"profil__container",children:[Object(U.jsx)("div",{className:"profil__img",children:Object(U.jsx)("img",{src:"./img/log.svg",alt:"login"})}),Object(U.jsx)(Y,{signIn:!1,signUp:!0})]})})};var _e=function(){var e=Object(r.useContext)(s),t=Object(u.c)((function(e){return e.trends}));return Object(U.jsxs)("div",{className:"trending-page",children:[Object(U.jsx)(Q,{active:"trending"}),Object(U.jsx)("div",{className:"main",children:Object(U.jsx)("ul",{children:!je(t[0])&&t.map((function(e){return Object(U.jsx)(he,{post:e},e._id)}))})}),Object(U.jsx)("div",{className:"right-side",children:Object(U.jsxs)("div",{className:"right-side-container",children:[Object(U.jsx)(ge,{}),e&&Object(U.jsx)(K,{})]})})]})};var Se=function(){return Object(U.jsxs)(i.a,{children:[Object(U.jsx)(A,{}),Object(U.jsxs)(o.c,{children:[Object(U.jsx)(o.a,{path:"/",exact:!0,element:Object(U.jsx)(we,{})}),Object(U.jsx)(o.a,{path:"/profil",exact:!0,element:Object(U.jsx)(Ne,{})}),Object(U.jsx)(o.a,{path:"/trending",exact:!0,element:Object(U.jsx)(_e,{})}),Object(U.jsx)(o.a,{path:"*",element:Object(U.jsx)(we,{})})]})]})};function Ce(){var e=Object(r.useState)(null),t=Object(M.a)(e,2),n=t[0],c=t[1],a=Object(u.b)();return Object(r.useEffect)((function(){var e=function(){var e=Object(j.a)(d.a.mark((function e(){var t;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,D();case 3:t=e.sent,c(t.data),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.log("No Token");case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(){return e.apply(this,arguments)}}();e(),n&&a(function(e){return function(){var t=Object(j.a)(d.a.mark((function t(n){var r;return d.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,v(e);case 3:r=t.sent,n({type:z,payload:r.data}),t.next=10;break;case 7:t.prev=7,t.t0=t.catch(0),console.log(t.t0);case 10:case"end":return t.stop()}}),t,null,[[0,7]])})));return function(e){return t.apply(this,arguments)}}()}(n))}),[n,a]),n}var Ee=function(){var e=Ce();return Object(U.jsx)(s.Provider,{value:e,children:Object(U.jsx)(Se,{})})},Ie=(n(65),n(13)),Te=n(33),Fe=n(17),De=n(7),Le={};var Pe="GET_USERS",Ue={};var Re={};var Ae={postErrors:[],userErrors:[]};var Me={};var ze={};var Ve=Object(Ie.combineReducers)({user:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Le,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case z:return t.payload;case V:return Object(De.a)(Object(De.a)({},e),{},{picture:t.payload});case B:return Object(De.a)(Object(De.a)({},e),{},{bio:t.payload});case G:return Object(De.a)(Object(De.a)({},e),{},{following:[t.payload.idToFollow].concat(Object(Fe.a)(e.following))});case H:return Object(De.a)(Object(De.a)({},e),{},{following:e.following.filter((function(e){return e!==t.payload.id.idToUnfollow}))});default:return e}},users:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ue,t=arguments.length>1?arguments[1]:void 0;return t.type===Pe?t.payload:e},posts:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Re,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Z:return t.payload;case ee:return e.map((function(e){return e._id===t.payload.postId?Object(De.a)(Object(De.a)({},e),{},{likers:[t.payload.userId].concat(Object(Fe.a)(e.likers))}):e}));case te:return e.map((function(e){return e._id===t.payload.postId?Object(De.a)(Object(De.a)({},e),{},{likers:e.likers.filter((function(e){return e!==t.payload.userId}))}):e}));case ne:return e.map((function(e){return e._id===t.payload.postId?Object(De.a)(Object(De.a)({},e),{},{message:t.payload.message}):e}));case re:return e.filter((function(e){return e._id!==t.payload.postId}));case ce:return e.map((function(e){return e._id===t.payload.postId?Object(De.a)(Object(De.a)({},e),{},{comments:e.comments.map((function(e){return e._id===t.payload.commentId?Object(De.a)(Object(De.a)({},e),{},{text:t.payload.text}):e}))}):e}));case ae:return e.map((function(e){return e._id===t.payload.postId?Object(De.a)(Object(De.a)({},e),{},{comments:e.comments.filter((function(e){return e._id!==t.payload.commentId}))}):e}));default:return e}},errors:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ae,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case ie:return{postErrors:t.payload,userErrors:[]};case W:return{postErrors:[],userErrors:t.payload};default:return e}},allPosts:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Me,t=arguments.length>1?arguments[1]:void 0;return t.type===$?t.payload:e},trends:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ze,t=arguments.length>1?arguments[1]:void 0;return t.type===se?t.payload:e}}),Be=n(32),Ge=Object(Ie.createStore)(Ve,Object(Be.composeWithDevTools)(Object(Ie.applyMiddleware)(Te.a)));Ge.dispatch(function(){var e=Object(j.a)(d.a.mark((function e(t){var n;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,m();case 3:n=e.sent,t({type:Pe,payload:n.data}),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.log(e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}()),Ge.dispatch(oe()),a.a.render(Object(U.jsx)(u.a,{store:Ge,children:Object(U.jsx)(Ee,{})}),document.getElementById("root"))}},[[66,1,2]]]);
//# sourceMappingURL=main.3add75ad.chunk.js.map