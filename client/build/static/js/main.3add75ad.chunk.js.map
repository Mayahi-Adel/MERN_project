{"version":3,"sources":["context/appContext.js","services/api.js","services/users.js","services/posts.js","services/index.js","components/Log/Logout.js","components/Navbar.js","actions/user.actions.js","components/Profil/FollowUser.js","components/FriendsHint.js","components/LeftNav.js","components/Log/SignInForm.js","components/Log/SignUpForm.js","components/Log/index.js","actions/post.actions.js","utils/index.js","components/Post/NewPost.js","components/Post/EditDeleteComment.js","components/Post/CardComments.js","components/Post/DeleteCard.js","components/Post/LikeButton.js","components/Post/Card.js","components/Thread.js","components/Trends.js","pages/Home.js","components/Profil/UploadImg.js","components/Profil/UpdateProfil.js","pages/Profil.js","pages/Trending.js","Routers/index.js","hooks/use-auth-listener.js","App.js","reducers/user.reducer.js","actions/users.actions.js","reducers/users.reducer.js","reducers/post.reducer.js","reducers/error.reducer.js","reducers/allPosts.reducer.js","reducers/Trending.reducer.js","reducers/index.js","index.js"],"names":["UserContext","createContext","api","axios","create","baseURL","getUserById","uid","a","get","uploadFile","data","post","updateBiography","id","bio","put","getAllUsers","follow_user","followerId","idToFollow","patch","unfollow_user","idToUnfollow","getAllPosts","add_post","like_post","postId","userId","idLiker","unlike_post","update_post","message","delete_post","delete","add_comment","commenterId","text","commenterPseudo","edit_comment","commentId","delete_comment","signin","email","password","withCredentials","signup","pseudo","userLogout","userListener","Logout","logout","key","window","cookie","remove","expires","location","console","log","onClick","src","alt","Navbar","useContext","userData","useSelector","state","user","className","exact","to","GET_USER","UPLOAD_PICTURE","UPDATE_BIO","FOLLOW_USER","UNFOLLOW_USER","GET_USER_ERRORS","FollowUser","type","useState","isFollowed","setIsFollowed","dispatch","useDispatch","handleFollow","payload","followUser","_id","handleUnfollow","useEffect","following","includes","FriendsHint","isLoading","setIsLoading","playOnce","setPlayOnce","friendsHint","setFriendsHint","usersData","users","list","map","followers","push","sort","Math","random","innerHeight","length","notFriendList","i","picture","LeftNav","props","active","SignInForm","setEmail","setPassword","error","setError","isInvalid","handleLogin","e","preventDefault","response","errors","document","title","onSubmit","method","placeholder","value","onChange","target","disabled","SignUpForm","formSubmit","setFormSubmit","setPseudo","controlPassword","setControlPassword","navigate","useNavigate","handleRegister","Log","signIn","signUp","signUpModal","setSignUpModal","handleModals","GET_POSTS","GET_ALL_POSTS","LIKE_POST","UNLIKE_POST","UPDATE_POST","DELETE_POST","EDIT_COMMENT","DELETE_COMMENT","GET_TRENDS","GET_POST_ERRORS","getPosts","count","posts","array","slice","addPost","dateParser","str","time","Date","parse","toLocaleDateString","hour","minute","second","weekday","year","month","day","toString","timestampParser","num","isEmpty","undefined","Object","keys","trim","NewPost","setMessage","setPicture","video","setVideo","file","setFile","postErrors","findlink","split","embed","replace","splice","join","handleVideo","handleForm","FormData","append","cancelPost","name","now","frameBorder","allow","allowFullScreen","accept","URL","createObjectURL","files","handlePicture","format","maxSize","EditDeleteComment","comment","isAuthor","setIsAuthor","edit","setEdit","setText","handleDelete","err","deleteComment","editComment","htmlFor","defaultValue","confirm","CardComments","setComment","comments","timestamps","then","DeleteCard","deleteQuote","LikeButton","liked","setLiked","likers","trigger","position","closeOnDocumentClick","Card","isUptaded","setIsUpdated","textUpdate","setTextUpdate","showComments","setShowComments","posterId","createdAt","width","height","Thread","loadPosts","setLoadPosts","setCount","loadMore","documentElement","scrollTop","scrollingElement","scrollHeight","addEventListener","removeEventListener","Trends","allPosts","trendList","trends","sortedArr","b","arr","Home","UploadImg","res","uploadPicture","style","display","UpdateProfil","setBio","updateForm","setUpdateForm","followingPopup","setFollowingPopup","followersPopup","setFollowersPopup","userErrors","updateBio","Profil","Trending","AppRouter","path","element","useAuthListener","setUid","listener","getUser","App","Provider","initialState","GET_USERS","combineReducers","action","filter","store","createStore","rootReducer","composeWithDevTools","applyMiddleware","thunk","ReactDOM","render","getElementById"],"mappings":"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","file":"static/js/main.3add75ad.chunk.js","sourcesContent":["import { createContext } from \"react\";\n\nconst UserContext = createContext();\n\nexport default UserContext;\n","import axios from \"axios\";\n\nconst api = axios.create({\n  baseURL: `/api/`,\n});\n\nexport default api;\n","import api from \"./api\";\n\nconst getUserById = async (uid) => {\n  return await api.get(`/user/${uid}`);\n};\n\nconst uploadFile = async (data) => {\n  return await api.post(`/user/upload`, data);\n};\n\nconst updateBiography = async (id, bio) => {\n  return await api.put(`/user/${id}`, { bio });\n};\n\nconst getAllUsers = async () => {\n  return await api.get(`/user`);\n};\n\nconst follow_user = async (followerId, idToFollow) => {\n  return await api.patch(`/user/follow/${followerId}`, { idToFollow });\n};\n\nconst unfollow_user = async (followerId, idToUnfollow) => {\n  return await api.patch(`/user/unfollow/${followerId}`, { idToUnfollow });\n};\n\nexport {\n  getUserById,\n  uploadFile,\n  updateBiography,\n  getAllUsers,\n  follow_user,\n  unfollow_user,\n};\n","import api from \"./api\";\n\nconst getAllPosts = async () => {\n  return await api.get(\"/post\");\n};\n\nconst add_post = async (data) => {\n  return await api.post(\"/post\", data);\n};\n\nconst like_post = async (postId, userId) => {\n  return await api.patch(`/post/like/${postId}`, { idLiker: userId });\n};\n\nconst unlike_post = async (postId, userId) => {\n  return await api.patch(`/post/unlike/${postId}`, { idLiker: userId });\n};\n\nconst update_post = async (postId, message) => {\n  return await api.put(`/post/${postId}`, { message });\n};\n\nconst delete_post = async (postId) => {\n  return api.delete(`post/${postId}`);\n};\n\nconst add_comment = async (postId, commenterId, text, commenterPseudo) => {\n  return await api.patch(`/post/comment/${postId}`, {\n    commenterId,\n    text,\n    commenterPseudo,\n  });\n};\n\nconst edit_comment = async (postId, commentId, text) => {\n  return await api.patch(`/post/edit-comment/${postId}`, { commentId, text });\n};\n\nconst delete_comment = async (postId, commentId) => {\n  return await api.patch(`/post/delete-comment/${postId}`, { commentId });\n};\n\nexport {\n  getAllPosts,\n  add_post,\n  like_post,\n  unlike_post,\n  update_post,\n  delete_post,\n  add_comment,\n  edit_comment,\n  delete_comment,\n};\n","import api from \"./api\";\nimport {\n  getUserById,\n  uploadFile,\n  updateBiography,\n  getAllUsers,\n  follow_user,\n  unfollow_user,\n} from \"./users\";\n\nimport {\n  getAllPosts,\n  add_post,\n  like_post,\n  unlike_post,\n  update_post,\n  delete_post,\n  add_comment,\n  edit_comment,\n  delete_comment,\n} from \"./posts\";\n\nconst signin = async (email, password) => {\n  return await api.post(\n    \"/user/login\",\n    { email, password },\n    { withCredentials: true }\n  );\n};\n\nconst signup = async (pseudo, email, password) => {\n  return await api.post(\"/user/register\", {\n    pseudo,\n    email,\n    password,\n  });\n};\n\nconst userLogout = async () => {\n  return await api.get(\"/user/logout\", { withCredentials: true });\n};\n\nconst userListener = async () => {\n  return await api.get(\"/jwtid\", { withCredentials: true });\n};\n\nexport {\n  signin,\n  signup,\n  userLogout,\n  userListener,\n  getUserById,\n  uploadFile,\n  updateBiography,\n  getAllUsers,\n  follow_user,\n  unfollow_user,\n  getAllPosts,\n  add_post,\n  like_post,\n  unlike_post,\n  update_post,\n  delete_post,\n  add_comment,\n  edit_comment,\n  delete_comment,\n};\n","import React from \"react\";\nimport { userLogout } from \"../../services\";\nimport cookie from \"js-cookie\";\n\nfunction Logout() {\n  const removecookie = (key) => {\n    if (window !== \"undefined\") {\n      cookie.remove(key, { expires: 1 });\n    }\n  };\n\n  const logout = async () => {\n    try {\n      await userLogout();\n      removecookie(\"jwt\");\n      window.location = \"/\";\n    } catch (err) {\n      console.log(err);\n    }\n  };\n\n  return (\n    <li onClick={logout}>\n      <img src=\"./img/icons/logout.svg\" alt=\"logout\" />\n    </li>\n  );\n}\n\nexport default Logout;\n","import React, { useContext } from \"react\";\nimport { useSelector } from \"react-redux\";\nimport { NavLink } from \"react-router-dom\";\nimport UserContext from \"../context/appContext\";\nimport Logout from \"./Log/Logout\";\n\nfunction Navbar() {\n  const uid = useContext(UserContext);\n  const userData = useSelector((state) => state.user);\n  //console.log(\"data\", userData);\n\n  return (\n    <nav>\n      <div className=\"nav-container\">\n        <div className=\"logo\">\n          <NavLink exact=\"true\" to=\"/\">\n            <div className=\"logo\">\n              <img src=\"./img/icon.png\" alt=\"butterfly\" />\n              <h3>Butterfly</h3>\n            </div>\n          </NavLink>\n        </div>\n        {uid ? (\n          <ul>\n            <li></li>\n            <li className=\"welcome\">\n              <NavLink exact=\"true\" to=\"/profil\">\n                Bienvenue {userData?.pseudo}\n              </NavLink>\n            </li>\n            <Logout />\n          </ul>\n        ) : (\n          <ul>\n            <li></li>\n            <li>\n              <NavLink exact=\"true\" to=\"/profil\">\n                <img src=\"./img/icons/login.svg\" alt=\"login\" />\n              </NavLink>\n            </li>\n          </ul>\n        )}\n      </div>\n    </nav>\n  );\n}\n\nexport default Navbar;\n","import {\n  follow_user,\n  getUserById,\n  unfollow_user,\n  updateBiography,\n  uploadFile,\n} from \"../services\";\n\nexport const GET_USER = \"GET_USER\";\nexport const UPLOAD_PICTURE = \"UPLOAD_PICTURE\";\nexport const UPDATE_BIO = \"UPDATE_BIO\";\nexport const FOLLOW_USER = \"FOLLOW_USER\";\nexport const UNFOLLOW_USER = \"UNFOLLOW_USER\";\n\nexport const GET_USER_ERRORS = \"GET_USER_ERRORS\";\n\nexport const getUser = (uid) => {\n  return async (dispatch) => {\n    try {\n      const user = await getUserById(uid);\n      dispatch({ type: GET_USER, payload: user.data });\n    } catch (err) {\n      console.log(err);\n    }\n  };\n};\n\nexport const uploadPicture = (data, id) => {\n  return async (dispatch) => {\n    try {\n      const res = await uploadFile(data);\n\n      if (res?.data?.errors) {\n        dispatch({ type: GET_USER_ERRORS, payload: res.data.errors });\n      } else {\n        dispatch({ type: GET_USER_ERRORS, payload: \"\" });\n        const user = await getUserById(id);\n\n        dispatch({ type: UPLOAD_PICTURE, payload: user?.data?.picture });\n      }\n    } catch (err) {\n      console.log(err.message);\n    }\n  };\n};\n\nexport const updateBio = (id, bio) => {\n  return async (dispatch) => {\n    try {\n      await updateBiography(id, bio);\n\n      dispatch({ type: UPDATE_BIO, payload: bio });\n    } catch (err) {\n      console.log(err);\n    }\n  };\n};\n\nexport const followUser = (followerId, idToFollow) => {\n  return async (dispatch) => {\n    try {\n      await follow_user(followerId, idToFollow);\n      dispatch({ type: FOLLOW_USER, payload: { idToFollow } });\n    } catch (err) {\n      console.log(err.message);\n    }\n  };\n};\n\nexport const unfollowUser = (followerId, idToUnfollow) => {\n  return async (dispatch) => {\n    try {\n      await unfollow_user(followerId, idToUnfollow);\n      dispatch({ type: UNFOLLOW_USER, payload: { idToUnfollow } });\n    } catch (err) {\n      console.log(err.message);\n    }\n  };\n};\n","import React, { useState, useEffect } from \"react\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport { followUser, unfollowUser } from \"../../actions/user.actions\";\n\nfunction FollowUser({ idToFollow, type }) {\n  const userData = useSelector((state) => state.user);\n  const [isFollowed, setIsFollowed] = useState(false);\n  const dispatch = useDispatch();\n\n  const handleFollow = () => {\n    dispatch(followUser(userData?._id, idToFollow));\n    setIsFollowed(true);\n  };\n\n  const handleUnfollow = () => {\n    dispatch(unfollowUser(userData?._id, idToFollow));\n    setIsFollowed(false);\n  };\n\n  useEffect(() => {\n    if (userData?.following?.includes(idToFollow)) {\n      setIsFollowed(true);\n    } else setIsFollowed(false);\n  }, [userData, idToFollow]);\n\n  return (\n    <>\n      {isFollowed ? (\n        <>\n          {type === \"suggestion\" && (\n            <button className=\"unfollow-btn\" onClick={handleUnfollow}>\n              Abonné\n            </button>\n          )}\n          {type === \"card\" && (\n            <img\n              src=\"./img/icons/checked.svg\"\n              alt=\"checked\"\n              onClick={handleUnfollow}\n            />\n          )}\n        </>\n      ) : (\n        <>\n          {type === \"suggestion\" && (\n            <button className=\"unfollow-btn\" onClick={handleFollow}>\n              Suivre\n            </button>\n          )}\n          {type === \"card\" && (\n            <img\n              src=\"./img/icons/check.svg\"\n              alt=\"check\"\n              onClick={handleFollow}\n            />\n          )}\n        </>\n      )}\n    </>\n  );\n}\n\nexport default FollowUser;\n","import React, { useEffect, useState } from \"react\";\nimport { useSelector } from \"react-redux\";\n//import { isEmpty } from \"../utils\";\nimport FollowUser from \"./Profil/FollowUser\";\n\nfunction FriendsHint() {\n  const [isLoading, setIsLoading] = useState(true);\n  const [playOnce, setPlayOnce] = useState(true);\n  const [friendsHint, setFriendsHint] = useState([]);\n  const userData = useSelector((state) => state.user);\n  const usersData = useSelector((state) => state.users?.users);\n\n  //   console.log(\"user\", userData);\n  //   console.log(\"USERS\", usersData);\n\n  useEffect(() => {\n    const notFriendList = () => {\n      let list = [];\n      usersData.map((user) => {\n        if (\n          user._id !== userData?._id &&\n          !user?.followers?.includes(userData._id)\n        ) {\n          return list.push(user._id);\n        } else return null;\n      });\n\n      list.sort(() => 0.5 - Math.random());\n      if (window.innerHeight > 780) {\n        list.length = 5;\n      } else if (window.innerHeight > 720) {\n        list.length = 4;\n      }\n      // else if (window.innerHeight > 615) {\n      //   list.length = 2;\n      // }\n      else {\n        list.length = 2;\n      }\n      setFriendsHint(list);\n    };\n\n    if (playOnce && usersData) {\n      notFriendList();\n      setIsLoading(false);\n      setPlayOnce(false);\n    }\n  }, [usersData, userData, playOnce]);\n\n  return (\n    <div className=\"get-friends-container\">\n      <h4>Suggestions</h4>\n      {isLoading ? (\n        <div className=\"icon\">\n          <i className=\"fas fa-spinner fa-pulse\"></i>\n        </div>\n      ) : (\n        <ul>\n          {friendsHint &&\n            friendsHint.map((user) => {\n              for (let i = 0; i < usersData.length; i++) {\n                if (user === usersData[i]._id) {\n                  return (\n                    <li className=\"user-hint\" key={user}>\n                      <img src={usersData[i].picture} alt=\"user-pic\" />\n                      <p>{usersData[i].pseudo}</p>\n                      <FollowUser\n                        idToFollow={usersData[i]._id}\n                        type=\"suggestion\"\n                      />\n                    </li>\n                  );\n                }\n              }\n              return null;\n            })}\n        </ul>\n      )}\n    </div>\n  );\n}\n\nexport default FriendsHint;\n","import React from \"react\";\nimport { NavLink } from \"react-router-dom\";\n\nfunction LeftNav(props) {\n  return (\n    <div className=\"left-nav-container\">\n      <div className=\"icons\">\n        <div className=\"icons-bis\">\n          <NavLink\n            to=\"/\"\n            exact=\"true\"\n            className={props.active === \"home\" ? \"active-left-nav\" : null}\n          >\n            <img src=\"./img/icons/home.svg\" alt=\"home\" />\n          </NavLink>\n          <NavLink\n            to=\"/trending\"\n            exact=\"true\"\n            className={props.active === \"trending\" ? \"active-left-nav\" : null}\n          >\n            <img src=\"./img/icons/rocket.svg\" alt=\"trending\" />\n          </NavLink>\n          <NavLink\n            to=\"/profil\"\n            exact=\"true\"\n            className={props.active === \"profil\" ? \"active-left-nav\" : null}\n          >\n            <img src=\"./img/icons/user.svg\" alt=\"user profil\" />\n          </NavLink>\n        </div>\n      </div>\n    </div>\n  );\n}\n\nexport default LeftNav;\n","import React, { useState, useEffect } from \"react\";\n//import { useNavigate } from \"react-router-dom\";\nimport { signin } from \"../../services\";\n\nfunction SignInForm() {\n  const [email, setEmail] = useState(\"\");\n  const [password, setPassword] = useState(\"\");\n  const [error, setError] = useState(\"\");\n  //const navigate = useNavigate();\n\n  const isInvalid = password === \"\" || email === \"\";\n\n  const handleLogin = async (e) => {\n    e.preventDefault();\n\n    try {\n      await signin(email, password);\n      window.location = \"/\";\n      // navigate(\"/\");\n    } catch (error) {\n      setEmail(\"\");\n      setPassword(\"\");\n      if (error?.response?.data?.errors?.email !== \"\")\n        setError(error.response?.data.errors.email);\n      if (error?.response?.data?.errors?.password !== \"\")\n        setError(error.response.data.errors.password);\n    }\n  };\n\n  useEffect(() => {\n    document.title = \"Connexion - butterfly Network\";\n  }, []);\n\n  return (\n    <>\n      <h1>Connexion</h1>\n      {error && <p className=\"error\">{error}</p>}\n      <form onSubmit={handleLogin} method=\"POST\" className=\"form\">\n        <input\n          type=\"text\"\n          aria-label=\"Email\"\n          placeholder=\"Adresse email\"\n          value={email}\n          onChange={({ target }) => setEmail(target.value)}\n        />\n        <input\n          type=\"password\"\n          aria-label=\"Mot de passe\"\n          placeholder=\"Mot de passe\"\n          value={password}\n          onChange={({ target }) => setPassword(target.value)}\n        />\n\n        <button\n          disabled={isInvalid}\n          type=\"submit\"\n          className={`${isInvalid && \"opacity-50\"}`}\n        >\n          Connexion\n        </button>\n      </form>\n    </>\n  );\n}\n\nexport default SignInForm;\n","import React, { useState } from \"react\";\nimport { useNavigate } from \"react-router-dom\";\nimport { signup } from \"../../services\";\nimport SignInform from \"./SignInForm\";\n\nfunction SignUpForm() {\n  const [formSubmit, setFormSubmit] = useState(false);\n  const [pseudo, setPseudo] = useState(\"\");\n  const [email, setEmail] = useState(\"\");\n  const [password, setPassword] = useState(\"\");\n  const [controlPassword, setControlPassword] = useState(\"\");\n\n  const navigate = useNavigate();\n\n  const [error, setError] = useState(\"\");\n  const isInvalid =\n    password === \"\" || email === \"\" || pseudo === \"\" || controlPassword === \"\";\n\n  const handleRegister = async (e) => {\n    e.preventDefault();\n    setError(\"\");\n\n    if (password !== controlPassword) {\n      setError(\"Les mots de passe ne correspondent pas\");\n    } else {\n      try {\n        await signup(pseudo, email, password);\n        navigate(\"/profil\");\n        setFormSubmit(true);\n      } catch (error) {\n        setPseudo(\"\");\n        setEmail(\"\");\n        setPassword(\"\");\n        setControlPassword(\"\");\n\n        if (error?.response?.data?.errors?.email !== \"\")\n          setError(error.response?.data.errors.email);\n        if (error?.response?.data?.errors?.password !== \"\")\n          setError(error.response.data.errors.password);\n        if (error?.response?.data?.errors?.pseudo !== \"\")\n          setError(error.response.data.errors.pseudo);\n        console.log(error.message);\n      }\n    }\n  };\n\n  return (\n    <>\n      {formSubmit ? (\n        <>\n          <SignInform />\n          <h4 className=\"success\">\n            Enregistrement réussi, veuillez vous connecter\n          </h4>\n        </>\n      ) : (\n        <>\n          <h1>Inscription</h1>\n\n          {error && <p className=\"error\">{error}</p>}\n\n          <form onSubmit={handleRegister} id=\"sign-up-form\">\n            <input\n              type=\"text\"\n              aria-label=\"Pseudo\"\n              placeholder=\"Pseudo\"\n              value={pseudo}\n              onChange={({ target }) => setPseudo(target.value)}\n            />\n            <input\n              type=\"text\"\n              aria-label=\"Email\"\n              placeholder=\"Adresse Email\"\n              value={email}\n              onChange={({ target }) => setEmail(target.value)}\n            />\n            <input\n              type=\"password\"\n              aria-label=\"Mot de passe\"\n              placeholder=\"Mot de passe\"\n              value={password}\n              onChange={({ target }) => setPassword(target.value)}\n            />\n            <input\n              type=\"password\"\n              aria-label=\"Confirmer mot de passe\"\n              placeholder=\"Confirmer mot de passe\"\n              value={controlPassword}\n              onChange={({ target }) => setControlPassword(target.value)}\n            />\n\n            <button\n              disabled={isInvalid}\n              type=\"submit\"\n              className={`${isInvalid && \"opacity-50\"}`}\n            >\n              S'inscrire\n            </button>\n          </form>\n        </>\n      )}\n    </>\n  );\n}\n\nexport default SignUpForm;\n","import React, { useState, useEffect } from \"react\";\nimport SignInForm from \"./SignInForm\";\nimport SignUpForm from \"./SignUpForm\";\n\nfunction Log({ signIn, signUp }) {\n  const [signUpModal, setSignUpModal] = useState(false);\n  //const [signInModal, setSignInModal] = useState(true);\n\n  useEffect(() => {\n    setSignUpModal(false);\n  }, []);\n  const handleModals = (e) => {\n    if (e.target.id === \"register\") {\n      setSignUpModal(true);\n      //setSignInModal(false);\n    } else if (e.target.id === \"login\") {\n      setSignUpModal(false);\n      // setSignInModal(true);\n    }\n  };\n\n  return (\n    <div className=\"log__form\">\n      <div className=\"form__container\">\n        {signUpModal ? <SignUpForm /> : <SignInForm />}\n      </div>\n      {!signUpModal ? (\n        <div className=\"dont_have_account\">\n          <span className=\"dont_have_account_span\">\n            Vous n'avez pas de compte?\n            <p onClick={handleModals} id=\"register\">\n              Inscrivez vous\n            </p>\n          </span>\n        </div>\n      ) : (\n        <div className=\"dont_have_account\">\n          <span className=\"dont_have_account_span\">\n            Vous avez pas un compte?\n            <p onClick={handleModals} id=\"login\">\n              Connectez vous\n            </p>\n          </span>\n        </div>\n      )}\n    </div>\n  );\n}\n\nexport default Log;\n","import {\n  add_comment,\n  add_post,\n  delete_comment,\n  delete_post,\n  edit_comment,\n  getAllPosts,\n  like_post,\n  unlike_post,\n  update_post,\n} from \"../services\";\n\n//posts\nexport const GET_POSTS = \"GET_POSTS\";\nexport const GET_ALL_POSTS = \"GET_ALL_POSTS\";\nexport const ADD_POST = \"ADD_POST\";\nexport const LIKE_POST = \"LIKE_POST\";\nexport const UNLIKE_POST = \"UNLIKE_POST\";\nexport const UPDATE_POST = \"UPDATE_POST\";\nexport const DELETE_POST = \"DELETE_POST\";\n\n// comments\nexport const ADD_COMMENT = \"ADD_COMMENT\";\nexport const EDIT_COMMENT = \"EDIT_COMMENT\";\nexport const DELETE_COMMENT = \"DELETE_COMMENT\";\n\n// Trends\nexport const GET_TRENDS = \"GET_TRENDS\";\n\n// errors\nexport const GET_POST_ERRORS = \"GET_POST_ERRORS\";\n\nexport const getPosts = (count) => {\n  return async (dispatch) => {\n    try {\n      const posts = await await getAllPosts();\n      const array = posts.data.slice(0, count);\n      dispatch({ type: GET_POSTS, payload: array });\n      dispatch({ type: GET_ALL_POSTS, payload: posts.data });\n    } catch (err) {\n      console.log(err);\n    }\n  };\n};\n\nexport const addPost = (data) => {\n  return async (dispatch) => {\n    try {\n      const post = await add_post(data);\n\n      if (post?.data?.errors) {\n        dispatch({ type: GET_POST_ERRORS, payload: post.data.errors });\n      } else {\n        dispatch({ type: GET_POST_ERRORS, payload: \"\" });\n      }\n    } catch (err) {\n      console.log(err.errors);\n    }\n  };\n};\n\nexport const likePost = (postId, userId) => {\n  return async (dispatch) => {\n    try {\n      await like_post(postId, userId);\n      dispatch({ type: LIKE_POST, payload: { postId, userId } });\n    } catch (err) {\n      console.log(err);\n    }\n  };\n};\n\nexport const unlikePost = (postId, userId) => {\n  return async (dispatch) => {\n    try {\n      await unlike_post(postId, userId);\n      dispatch({ type: UNLIKE_POST, payload: { postId, userId } });\n    } catch (err) {\n      console.log(err);\n    }\n  };\n};\n\nexport const updatePost = (postId, message) => {\n  return async (dispatch) => {\n    try {\n      await update_post(postId, message);\n      dispatch({ type: UPDATE_POST, payload: { postId, message } });\n    } catch (err) {\n      console.log(err);\n    }\n  };\n};\n\nexport const deletePost = (postId) => {\n  return async (dispatch) => {\n    try {\n      await delete_post(postId);\n      dispatch({ type: DELETE_POST, payload: { postId } });\n    } catch (err) {\n      console.log(err);\n    }\n  };\n};\n\nexport const addComment = (postId, commenterId, text, commenterPseudo) => {\n  return async (dispatch) => {\n    try {\n      add_comment(postId, commenterId, text, commenterPseudo);\n      dispatch({\n        type: ADD_COMMENT,\n        payload: { postId, commenterId, text, commenterPseudo },\n      });\n    } catch (err) {\n      console.log(err);\n    }\n  };\n};\n\nexport const editComment = (postId, commentId, text) => {\n  return async (dispatch) => {\n    try {\n      edit_comment(postId, commentId, text);\n      dispatch({ type: EDIT_COMMENT, payload: { postId, commentId, text } });\n    } catch (err) {\n      console.log(err);\n    }\n  };\n};\n\nexport const deleteComment = (postId, commentId) => {\n  return async (dispatch) => {\n    try {\n      delete_comment(postId, commentId);\n      dispatch({ type: DELETE_COMMENT, payload: { postId, commentId } });\n    } catch (err) {\n      console.log(err);\n    }\n  };\n};\n\nexport const getTrends = (arr) => {\n  return (dispatch) => {\n    dispatch({ type: GET_TRENDS, payload: arr });\n  };\n};\n","export const dateParser = (str) => {\n  let options = {\n    hour: \"2-digit\",\n    minute: \"2-digit\",\n    second: \"2-digit\",\n    weekday: \"long\",\n    year: \"numeric\",\n    month: \"short\",\n    day: \"numeric\",\n  };\n  let time = Date.parse(str);\n  let date = new Date(time).toLocaleDateString(\"fr-FR\", options);\n  return date.toString();\n};\n\nexport const timestampParser = (num) => {\n  let options = {\n    hour: \"2-digit\",\n    minute: \"2-digit\",\n    second: \"2-digit\",\n    weekday: \"long\",\n    year: \"numeric\",\n    month: \"short\",\n    day: \"numeric\",\n  };\n\n  let date = new Date(num).toLocaleDateString(\"fr-FR\", options);\n\n  return date.toString();\n};\n\nexport const isEmpty = (value) => {\n  return (\n    value === undefined ||\n    value === null ||\n    (typeof value === \"object\" && Object.keys(value).length === 0) ||\n    (typeof value === \"string\" && value.trim().length === 0)\n  );\n};\n","import React, { useEffect, useState } from \"react\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport { NavLink } from \"react-router-dom\";\nimport { addPost, getPosts } from \"../../actions/post.actions\";\nimport { timestampParser } from \"../../utils\";\n\nfunction NewPost() {\n  const [isLoading, setIsLoading] = useState(true);\n  const [message, setMessage] = useState(\"\");\n  const [picture, setPicture] = useState(\"\");\n  const [video, setVideo] = useState(\"\");\n  const [file, setFile] = useState(\"\");\n  const userData = useSelector((state) => state.user);\n  const errors = useSelector((state) => state.errors.postErrors);\n\n  const dispatch = useDispatch();\n\n  useEffect(() => {\n    if (userData) setIsLoading(false);\n\n    const handleVideo = () => {\n      let findlink = message.split(\" \");\n\n      for (let i = 0; i < findlink.length; i++) {\n        if (\n          findlink[i].includes(\"https://www.yout\") ||\n          findlink[i].includes(\"https://yout\")\n        ) {\n          let embed = findlink[i].replace(\"watch?v=\", \"embed/\");\n          setVideo(embed.split(\"&\")[0]);\n          findlink.splice(i, 1);\n          setMessage(findlink.join(\" \"));\n          setPicture(\"\");\n        }\n      }\n    };\n\n    handleVideo();\n  }, [userData, message, video]);\n\n  const handleForm = async () => {\n    if (message || picture || video) {\n      const data = new FormData();\n      data.append(\"posterId\", userData._id);\n      data.append(\"message\", message);\n      if (file) data.append(\"file\", file);\n      data.append(\"video\", video);\n\n      await dispatch(addPost(data));\n      dispatch(getPosts());\n      cancelPost();\n    }\n  };\n\n  const handlePicture = (e) => {\n    // pour la gestion partie front\n    setPicture(URL.createObjectURL(e.target.files[0]));\n    // pour la gestion partie back\n    setFile(e.target.files[0]);\n    setVideo(\"\");\n  };\n\n  const cancelPost = () => {\n    setMessage(\"\");\n    setPicture(\"\");\n    setVideo(\"\");\n    setFile(\"\");\n  };\n\n  return (\n    <div className=\"post-container\">\n      {isLoading ? (\n        <i className=\"fas fa-spinner fa-pulse\"></i>\n      ) : (\n        <>\n          <div className=\"data\">\n            <p>\n              <span>{userData?.following?.length}</span> Abonnement\n              {userData?.following?.length > 1 && \"s\"}\n            </p>\n            <p>\n              <span>{userData?.followers?.length}</span> Abonné\n              {userData?.followers?.length > 1 && \"s\"}\n            </p>\n          </div>\n          <NavLink exact=\"true\" to=\"/profil\">\n            <div className=\"user-info\">\n              <img src={userData?.picture} alt=\"user-pic\" />\n            </div>\n          </NavLink>\n          <div className=\"post-form\">\n            <textarea\n              name=\"message\"\n              id=\"message\"\n              placeholder=\"Quoi de neuf ?\"\n              onChange={(e) => setMessage(e.target.value)}\n              value={message}\n            />\n            {(message || video.length > 20 || picture) && (\n              <li className=\"card-container\">\n                <div className=\"card-left\">\n                  <img src={userData?.picture} alt=\"user-pic\" />\n                </div>\n                <div className=\"card-right\">\n                  <div className=\"card-header\">\n                    <div className=\"pseudo\">\n                      <h3>{userData?.pseudo}</h3>\n                    </div>\n                    <span>{timestampParser(Date.now())}</span>\n                  </div>\n                  <div className=\"content\">\n                    <p>{message}</p>\n                    {picture && <img src={picture} alt=\"post\" />}\n                    {video && (\n                      <iframe\n                        src={video}\n                        frameBorder=\"0\"\n                        allow=\"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture\"\n                        allowFullScreen\n                        title={video}\n                      ></iframe>\n                    )}\n                  </div>\n                </div>\n              </li>\n            )}\n\n            <div className=\"footer-form\">\n              <div className=\"icon\">\n                {!video ? (\n                  <>\n                    <img src=\"./img/icons/picture.svg\" alt=\"add\" />\n                    <input\n                      type=\"file\"\n                      id=\"file\"\n                      name=\"file\"\n                      accept=\".jpg, .jpeg, .png\"\n                      onChange={(e) => handlePicture(e)}\n                    />\n                  </>\n                ) : (\n                  <button onClick={() => setVideo(\"\")}>Supprimer video</button>\n                )}\n              </div>\n              {errors?.format && <p>{errors.format}</p>}\n              {errors?.maxSize && <p>{errors.maxSize}</p>}\n              <div className=\"btn-send\">\n                {(message || video.length > 20 || picture) && (\n                  <button className=\"cancel\" onClick={cancelPost}>\n                    Annuler message\n                  </button>\n                )}\n\n                <button className=\"send\" onClick={handleForm}>\n                  Envoyer\n                </button>\n              </div>\n            </div>\n          </div>\n        </>\n      )}\n    </div>\n  );\n}\n\nexport default NewPost;\n","import React, { useContext, useEffect, useState } from \"react\";\nimport { useDispatch } from \"react-redux\";\nimport { deleteComment, editComment } from \"../../actions/post.actions\";\nimport UserContext from \"../../context/appContext\";\n\nfunction EditDeleteComment({ comment, postId }) {\n  const [isAuthor, setIsAuthor] = useState(false);\n  const [edit, setEdit] = useState(false);\n  const [text, setText] = useState(\"\");\n  const uid = useContext(UserContext);\n  const dispatch = useDispatch();\n\n  const handleEdit = (e) => {\n    e.preventDefault();\n    if (text) {\n      dispatch(editComment(postId, comment._id, text));\n      setText(\"\");\n      setEdit(false);\n    }\n  };\n\n  const handleDelete = () => {\n    dispatch(deleteComment(postId, comment._id));\n  };\n\n  useEffect(() => {\n    const checkAuthor = () => {\n      if (uid === comment.commenterId) setIsAuthor(true);\n    };\n    checkAuthor();\n  }, [uid, comment.commenterId]);\n\n  return (\n    <div className=\"edit-comment \">\n      {isAuthor && !edit && (\n        <span onClick={() => setEdit(!edit)}>\n          <img src=\"./img/icons/edit.svg\" alt=\"edit comment\" />\n        </span>\n      )}\n      {isAuthor && edit && (\n        <form onSubmit={handleEdit} className=\"edit-comment-form\">\n          <label htmlFor=\"text\" onClick={() => setEdit(!edit)}>\n            Editer\n          </label>\n          <input\n            type=\"text\"\n            name=\"text\"\n            onChange={(e) => setText(e.target.value)}\n            defaultValue={comment.text}\n          />\n          <div className=\"btn\">\n            <span\n              onClick={() => {\n                if (window.confirm(\"Voulez-vous supprimer ce commentaire ?\")) {\n                  handleDelete();\n                }\n              }}\n            >\n              <img src=\"./img/icons/trash.svg\" alt=\"delete comment\" />\n            </span>\n            <input type=\"submit\" value=\"Valider modifications\" />\n          </div>\n        </form>\n      )}\n    </div>\n  );\n}\n\nexport default EditDeleteComment;\n","import React, { useState } from \"react\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport { addComment, getPosts } from \"../../actions/post.actions\";\nimport { timestampParser } from \"../../utils\";\nimport FollowUser from \"../Profil/FollowUser\";\nimport EditDeleteComment from \"./EditDeleteComment\";\n\nfunction CardComments({ post }) {\n  const [comment, setComment] = useState(\"\");\n\n  const usersData = useSelector((state) => state.users);\n  const userData = useSelector((state) => state.user);\n  const dispatch = useDispatch();\n\n  const handleComments = (e) => {\n    e.preventDefault();\n\n    if (comment) {\n      dispatch(addComment(post._id, userData._id, comment, userData.pseudo))\n        .then(() => dispatch(getPosts()))\n        .then(() => setComment(\"\"));\n    }\n  };\n\n  return (\n    <div className=\"comments-container\">\n      {post.comments.map((comment) => {\n        return (\n          <div\n            className={\n              comment.commenterId === userData._id\n                ? \"comment-container client\"\n                : \"comment-container\"\n            }\n            key={comment._id}\n          >\n            <div className=\"left-part\">\n              <img\n                src={usersData?.users\n                  ?.map((user) => {\n                    if (user._id === comment.commenterId) return user.picture;\n                    else return null;\n                  })\n                  .join(\"\")}\n                alt=\"commenter-pic\"\n              />\n            </div>\n            <div className=\"right-part\">\n              <div className=\"comment-header\">\n                <div className=\"pseudo\">\n                  <h3>{comment.commenterPseudo}</h3>\n                  <span>\n                    {comment.commenterId !== userData._id && (\n                      <FollowUser\n                        idToFollow={comment.commenterId}\n                        type={\"card\"}\n                      />\n                    )}\n                  </span>\n                </div>\n                <span>{timestampParser(comment.timestamps)}</span>\n              </div>\n              <p>{comment.text}</p>\n              <EditDeleteComment comment={comment} postId={post._id} />\n            </div>\n          </div>\n        );\n      })}\n      {userData._id && (\n        <form onSubmit={handleComments} className=\"comment-form\">\n          <input\n            type=\"text\"\n            name=\"comment\"\n            onChange={(e) => setComment(e.target.value)}\n            value={comment}\n            placeholder=\"Laisser un commentaire\"\n          />\n          <input type=\"submit\" value=\"Envoyer\" />\n        </form>\n      )}\n    </div>\n  );\n}\n\nexport default CardComments;\n","import React from \"react\";\nimport { useDispatch } from \"react-redux\";\nimport { deletePost } from \"../../actions/post.actions\";\n\nfunction DeleteCard({ id }) {\n  const dispatch = useDispatch();\n\n  const deleteQuote = () => {\n    dispatch(deletePost(id));\n  };\n\n  return (\n    <div\n      onClick={() => {\n        if (window.confirm(\"Voulez-vous supprimer cet article ?\")) {\n          deleteQuote();\n        }\n      }}\n    >\n      <img src=\"./img/icons/trash.svg\" alt=\"delete post\" />\n    </div>\n  );\n}\n\nexport default DeleteCard;\n","import React, { useContext, useEffect, useState } from \"react\";\nimport { useDispatch } from \"react-redux\";\nimport Popup from \"reactjs-popup\";\nimport \"reactjs-popup/dist/index.css\";\nimport { likePost, unlikePost } from \"../../actions/post.actions\";\nimport UserContext from \"../../context/appContext\";\n\nfunction LikeButton({ post }) {\n  const [liked, setLiked] = useState(false);\n  const uid = useContext(UserContext);\n  const dispatch = useDispatch();\n\n  const like = () => {\n    dispatch(likePost(post._id, uid));\n    setLiked(true);\n  };\n\n  const unlike = () => {\n    dispatch(unlikePost(post._id, uid));\n    setLiked(false);\n  };\n\n  useEffect(() => {\n    if (post.likers.includes(uid)) setLiked(true);\n    else setLiked(false);\n  }, [uid, post.likers, liked]);\n\n  return (\n    <div className=\"like-container\">\n      {uid === null && (\n        <Popup\n          trigger={<img src=\"./img/icons/heart.svg\" alt=\"like\" />}\n          position={[\"bottom center\", \"bottom right\", \"bottom left\"]}\n          closeOnDocumentClick\n        >\n          <div>Connectez-vous pour aimer un post!</div>\n        </Popup>\n      )}\n      {uid && !liked && (\n        <img src=\"./img/icons/heart.svg\" alt=\"like\" onClick={like} />\n      )}\n      {uid && liked && (\n        <img src=\"./img/icons/heart-filled.svg\" alt=\"lunike\" onClick={unlike} />\n      )}\n      <span>{post.likers.length}</span>\n    </div>\n  );\n}\n\nexport default LikeButton;\n","import React, { useState, useEffect } from \"react\";\nimport { useSelector, useDispatch } from \"react-redux\";\nimport { updatePost } from \"../../actions/post.actions\";\nimport { dateParser } from \"../../utils\";\nimport FollowUser from \"../Profil/FollowUser\";\nimport CardComments from \"./CardComments\";\nimport DeleteCard from \"./DeleteCard\";\nimport LikeButton from \"./LikeButton\";\n\nfunction Card({ post }) {\n  const [isLoading, setIsLoading] = useState(true);\n  const [isUptaded, setIsUpdated] = useState(false);\n  const [textUpdate, setTextUpdate] = useState(null);\n  const [showComments, setShowComments] = useState(false);\n\n  const usersData = useSelector((state) => state.users);\n  const userData = useSelector((state) => state.user);\n  const dispatch = useDispatch();\n\n  const updateItem = () => {\n    if (textUpdate) {\n      dispatch(updatePost(post._id, textUpdate));\n    }\n    setIsUpdated(false);\n  };\n\n  useEffect(() => {\n    if (usersData) setIsLoading(false);\n  }, [usersData]);\n\n  return (\n    <li className=\"card-container\" key={post._id}>\n      {isLoading ? (\n        <i className=\"fas fa-spinner fa-spin\"></i>\n      ) : (\n        <>\n          <div className=\"card-left\">\n            <img\n              src={usersData?.users\n                ?.map((user) => {\n                  if (user._id === post.posterId) return user.picture;\n                  else return null;\n                })\n                .join(\"\")}\n              alt=\"poster-pic\"\n            />\n          </div>\n          <div className=\"card-right\">\n            <div className=\"card-header\">\n              <div className=\"pseudo\">\n                <h3>\n                  {usersData?.users?.map((user) => {\n                    if (user._id === post.posterId) return user.pseudo;\n                    else return null;\n                  })}\n                </h3>\n                {post.posterId !== userData?._id && (\n                  <span>\n                    <FollowUser idToFollow={post.posterId} type=\"card\" />\n                  </span>\n                )}\n              </div>\n              <span>{dateParser(post.createdAt)}</span>\n            </div>\n            {!isUptaded ? (\n              <p>{post.message}</p>\n            ) : (\n              <div className=\"update-post\">\n                <textarea\n                  defaultValue={post.message}\n                  onChange={(e) => setTextUpdate(e.target.value)}\n                />\n                <div className=\"button-container\">\n                  <button className=\"btn\" onClick={updateItem}>\n                    Valider modification\n                  </button>\n                </div>\n              </div>\n            )}\n\n            {post.picture && (\n              <img src={post.picture} alt=\"card-pic\" className=\"card-pic\" />\n            )}\n            {post.video && (\n              <iframe\n                width=\"500\"\n                height=\"300\"\n                src={post.video}\n                frameBorder=\"0\"\n                allow=\"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture\"\n                allowFullScreen\n                title={post._id}\n              ></iframe>\n            )}\n            {userData._id === post.posterId && (\n              <div className=\"button-container\">\n                <div onClick={() => setIsUpdated(!isUptaded)}>\n                  <img src=\"./img/icons/edit.svg\" alt=\"edit post\" />\n                </div>\n                <DeleteCard id={post._id} />\n              </div>\n            )}\n            <div className=\"card-footer\">\n              <div className=\"comment-icon\">\n                <img\n                  onClick={() => setShowComments(!showComments)}\n                  src=\"./img/icons/message1.svg\"\n                  alt=\"edit-comment\"\n                />\n                <span>{post.comments.length}</span>\n              </div>\n              <LikeButton post={post} />\n              <img src=\"./img/icons/share.svg\" alt=\"share post\" />\n            </div>\n            {showComments && <CardComments post={post} />}\n          </div>\n        </>\n      )}\n    </li>\n  );\n}\n\nexport default Card;\n","import React, { useState, useEffect } from \"react\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport { getPosts } from \"../actions/post.actions\";\nimport { isEmpty } from \"../utils\";\nimport Card from \"./Post/Card\";\n\nfunction Thread() {\n  const [loadPosts, setLoadPosts] = useState(true);\n  const [count, setCount] = useState(5);\n  const dispatch = useDispatch();\n  const posts = useSelector((state) => state.posts);\n\n  const loadMore = () => {\n    if (\n      window.innerHeight + document.documentElement.scrollTop + 1 >\n      document.scrollingElement.scrollHeight\n    ) {\n      setLoadPosts(true);\n    }\n  };\n\n  useEffect(() => {\n    if (loadPosts) {\n      dispatch(getPosts(count));\n      setLoadPosts(false);\n      setCount(count + 5);\n    }\n\n    window.addEventListener(\"scroll\", loadMore);\n\n    return () => window.removeEventListener(\"scroll\", loadMore);\n  }, [loadPosts, dispatch, count]);\n\n  return (\n    <div className=\"thread-container\">\n      <ul>\n        {!isEmpty(posts[0]) &&\n          posts.map((post) => <Card key={post._id} post={post} />)}\n      </ul>\n    </div>\n  );\n}\n\nexport default Thread;\n","import React, { useEffect } from \"react\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport { getTrends } from \"../actions/post.actions\";\nimport { NavLink } from \"react-router-dom\";\nimport { isEmpty } from \"../utils\";\n\nfunction Trends() {\n  const posts = useSelector((state) => state.allPosts);\n  const usersData = useSelector((state) => state.users);\n  const trendList = useSelector((state) => state.trends);\n  const dispatch = useDispatch();\n\n  useEffect(() => {\n    if (!isEmpty(posts)) {\n      const postsArr = Object.keys(posts).map((i) => posts[i]);\n      let sortedArr = postsArr.sort((a, b) => {\n        return b.likers.length - a.likers.length;\n      });\n      sortedArr.length = 3;\n      dispatch(getTrends(sortedArr));\n    }\n  }, [posts, dispatch]);\n\n  return (\n    <div className=\"trending-container\">\n      <h4>Trending</h4>\n      <NavLink exact=\"true\" to=\"/Trending\">\n        <ul>\n          {trendList.length &&\n            trendList.map((post) => {\n              return (\n                <li key={post._id}>\n                  <div>\n                    {post.picture && <img src={post.picture} alt=\"post-pic\" />}\n                    {post.video && (\n                      <iframe\n                        src={post.video}\n                        frameBorder=\"0\"\n                        allow=\"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture\"\n                        allowFullScreen\n                        title={post._id}\n                      ></iframe>\n                    )}\n                    {isEmpty(post.picture) && isEmpty(post.video) && (\n                      <img\n                        src={\n                          usersData[0] &&\n                          usersData\n                            .map((user) => {\n                              if (user._id === post.posterId) {\n                                return user.picture;\n                              } else return null;\n                            })\n                            .join(\"\")\n                        }\n                        alt=\"user-pic\"\n                      />\n                    )}\n                  </div>\n                  <div className=\"trend-content\">\n                    <p>{post?.message}</p>\n                    <span>Lire</span>\n                  </div>\n                </li>\n              );\n            })}\n        </ul>\n      </NavLink>\n    </div>\n  );\n}\n\nexport default Trends;\n","import React, { useContext } from \"react\";\nimport FriendsHint from \"../components/FriendsHint\";\nimport LeftNav from \"../components/LeftNav\";\nimport Log from \"../components/Log\";\nimport NewPost from \"../components/Post/NewPost\";\nimport Thread from \"../components/Thread\";\nimport Trends from \"../components/Trends\";\nimport UserContext from \"../context/appContext\";\n\nfunction Home() {\n  const uid = useContext(UserContext);\n  return (\n    <>\n      <LeftNav active=\"home\" />\n      <div className=\"home\">\n        <div className=\"main\">\n          <div className=\"profil\">\n            <div className=\"profil__container\">\n              {uid ? <NewPost /> : <Log signIn={false} signUp={true} />}\n            </div>\n          </div>\n          <Thread />\n        </div>\n        <div className=\"right-side\">\n          <div className=\"right-side-container\">\n            <div className=\"wrapper\">\n              <Trends />\n              {uid && <FriendsHint />}\n            </div>\n          </div>\n        </div>\n      </div>\n    </>\n  );\n}\n\nexport default Home;\n","import React, { useState } from \"react\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport { uploadPicture } from \"../../actions/user.actions\";\n\nfunction UploadImg() {\n  const [file, setFile] = useState();\n  const dispatch = useDispatch();\n  const userData = useSelector((state) => state.user);\n\n  const handlePicture = (e) => {\n    e.preventDefault();\n    let data = new FormData();\n    data.append(\"name\", userData?.pseudo);\n    data.append(\"userId\", userData?._id);\n    data.append(\"file\", file);\n\n    dispatch(uploadPicture(data, userData?._id));\n  };\n\n  return (\n    <form onSubmit={handlePicture} className=\"upload-pic\">\n      <label htmlFor=\"file\">Changer d'image</label>\n      <input\n        type=\"file\"\n        id=\"file\"\n        name=\"file\"\n        accept=\".jpg, .jpeg, .png\"\n        onChange={(e) => setFile(e.target.files[0])}\n        style={{ display: \"none\" }}\n      />\n      <br />\n      <input type=\"submit\" value=\"Envoyer\" />\n    </form>\n  );\n}\n\nexport default UploadImg;\n","import React, { useState } from \"react\";\nimport LeftNav from \"../LeftNav\";\nimport { useSelector, useDispatch } from \"react-redux\";\nimport UploadImg from \"./UploadImg\";\nimport { updateBio } from \"../../actions/user.actions\";\nimport { dateParser } from \"../../utils\";\nimport FollowUser from \"./FollowUser\";\n\nfunction UpdateProfil() {\n  const [bio, setBio] = useState(\"\");\n  const [updateForm, setUpdateForm] = useState(false);\n  const [followingPopup, setFollowingPopup] = useState(false);\n  const [followersPopup, setFollowersPopup] = useState(false);\n\n  const userData = useSelector((state) => state.user);\n  const usersData = useSelector((state) => state.users);\n  const errors = useSelector((state) => state.errors.userErrors);\n  //console.log(userData);\n\n  const dispatch = useDispatch();\n\n  const handleUpdateBio = () => {\n    dispatch(updateBio(userData._id, bio));\n    setUpdateForm(false);\n  };\n\n  return (\n    <>\n      <LeftNav active=\"profil\" />\n      <div className=\"profil__title\">\n        <h1>Profil de {userData?.pseudo}</h1>\n      </div>\n      <div className=\"profil__contain\">\n        <div>\n          <div className=\"update-container\">\n            <div className=\"left-part\">\n              <h3>Photo de profil</h3>\n              <img src={userData?.picture} alt=\"user-pic\" />\n              <UploadImg />\n              <p>{errors?.maxSize}</p>\n              <p>{errors?.format}</p>\n            </div>\n          </div>\n        </div>\n\n        <div className=\"right-part\">\n          <div className=\"bio-update\">\n            <h3>Bio</h3>\n\n            {updateForm ? (\n              <>\n                <textarea\n                  defaultValue={userData?.bio}\n                  onChange={(e) => setBio(e.target.value)}\n                />\n                <button onClick={handleUpdateBio}>Valider Modifications</button>\n              </>\n            ) : (\n              <>\n                <p onClick={() => setUpdateForm(!updateForm)}>\n                  {userData?.bio}\n                </p>\n                <button onClick={() => setUpdateForm(!updateForm)}>\n                  Modifier bio\n                </button>\n              </>\n            )}\n          </div>\n          <h4>Membre depuis le : {dateParser(userData?.createdAt)}</h4>\n          <h5 onClick={() => setFollowingPopup(true)}>\n            Abonnements : {userData?.following?.length}\n          </h5>\n          <h5 onClick={() => setFollowersPopup(true)}>\n            Abonnés : {userData?.followers?.length}\n          </h5>\n        </div>\n      </div>\n      {followingPopup && (\n        <div className=\"popup-profil-container\">\n          <div className=\"modal\">\n            <h3>Abonnements</h3>\n            <span className=\"cross\" onClick={() => setFollowingPopup(false)}>\n              &#10005;\n            </span>\n            <ul>\n              {usersData?.users?.map((user) => {\n                for (let i = 0; i < userData?.following?.length; i++) {\n                  if (user._id === userData?.following[i]) {\n                    return (\n                      <li key={user._id}>\n                        <img src={user?.picture} alt=\"user-pic\" />\n                        <h4>{user?.pseudo}</h4>\n                        <div className=\"follow-handler\">\n                          <FollowUser\n                            idToFollow={user._id}\n                            type={\"suggestion\"}\n                          />\n                        </div>\n                      </li>\n                    );\n                  }\n                }\n                return null;\n              })}\n            </ul>\n          </div>\n        </div>\n      )}\n\n      {/* Followers popup */}\n\n      {followersPopup && (\n        <div className=\"popup-profil-container\">\n          <div className=\"modal\">\n            <h3>Abonnés</h3>\n            <span className=\"cross\" onClick={() => setFollowersPopup(false)}>\n              &#10005;\n            </span>\n            <ul>\n              {usersData?.users.map((user) => {\n                for (let i = 0; i < userData?.followers.length; i++) {\n                  if (user._id === userData?.followers[i]) {\n                    return (\n                      <li key={user._id}>\n                        <img src={user?.picture} alt=\"user-pic\" />\n                        <h4>{user?.pseudo}</h4>\n                        <div className=\"follow-handler\">\n                          <FollowUser idToFollow={user._id} type=\"suggestion\" />\n                        </div>\n                      </li>\n                    );\n                  }\n                }\n                return null;\n              })}\n            </ul>\n          </div>\n        </div>\n      )}\n    </>\n  );\n}\n\nexport default UpdateProfil;\n","import React, { useContext } from \"react\";\nimport Log from \"../components/Log\";\nimport UpdateProfil from \"../components/Profil/UpdateProfil\";\nimport UserContext from \"../context/appContext\";\n\nfunction Profil() {\n  const uid = useContext(UserContext);\n\n  return (\n    <div className=\"profil\">\n      {uid ? (\n        <UpdateProfil />\n      ) : (\n        <div className=\"profil__container\">\n          <div className=\"profil__img\">\n            <img src=\"./img/log.svg\" alt=\"login\" />\n          </div>\n          <Log signIn={false} signUp={true} />\n        </div>\n      )}\n    </div>\n  );\n}\n\nexport default Profil;\n","import React, { useContext } from \"react\";\nimport { useSelector } from \"react-redux\";\nimport LeftNav from \"../components/LeftNav\";\nimport UserContext from \"../context/appContext\";\nimport { isEmpty } from \"../utils\";\nimport Card from \"../components/Post/Card\";\nimport Trends from \"../components/Trends\";\nimport FriendsHint from \"../components/FriendsHint\";\n\nfunction Trending() {\n  const uid = useContext(UserContext);\n  const trendList = useSelector((state) => state.trends);\n\n  return (\n    <div className=\"trending-page\">\n      <LeftNav active=\"trending\" />\n      <div className=\"main\">\n        <ul>\n          {!isEmpty(trendList[0]) &&\n            trendList.map((post) => <Card post={post} key={post._id} />)}\n        </ul>\n      </div>\n      <div className=\"right-side\">\n        <div className=\"right-side-container\">\n          <Trends />\n          {uid && <FriendsHint />}\n        </div>\n      </div>\n    </div>\n  );\n}\n\nexport default Trending;\n","import React from \"react\";\nimport { BrowserRouter as Router, Route, Routes } from \"react-router-dom\";\nimport Navbar from \"../components/Navbar\";\nimport Home from \"../pages/Home\";\nimport Profil from \"../pages/Profil\";\nimport Trending from \"../pages/Trending\";\n\nfunction AppRouter() {\n  return (\n    <Router>\n      <Navbar />\n      <Routes>\n        <Route path=\"/\" exact element={<Home />} />\n        <Route path=\"/profil\" exact element={<Profil />} />\n        <Route path=\"/trending\" exact element={<Trending />} />\n        <Route path=\"*\" element={<Home />} />\n      </Routes>\n    </Router>\n  );\n}\n\nexport default AppRouter;\n","import { useState, useEffect } from \"react\";\nimport { userListener } from \"../services\";\nimport { useDispatch } from \"react-redux\";\n\nimport { getUser } from \"../actions/user.actions\";\n\nexport default function useAuthListener() {\n  const [uid, setUid] = useState(null);\n  const dispatch = useDispatch();\n\n  useEffect(() => {\n    const listener = async () => {\n      try {\n        const response = await userListener();\n        setUid(response.data);\n      } catch (err) {\n        console.log(\"No Token\");\n      }\n    };\n\n    listener();\n    if (uid) dispatch(getUser(uid));\n  }, [uid, dispatch]);\n\n  return uid;\n}\n","import UserContext from \"./context/appContext\";\nimport AppRouter from \"./Routers\";\nimport useAuthListener from \"./hooks/use-auth-listener\";\n\nfunction App() {\n  const uid = useAuthListener();\n\n  return (\n    <UserContext.Provider value={uid}>\n      <AppRouter />\n    </UserContext.Provider>\n  );\n}\n\nexport default App;\n","import {\n  GET_USER,\n  UPLOAD_PICTURE,\n  UPDATE_BIO,\n  FOLLOW_USER,\n  UNFOLLOW_USER,\n} from \"../actions/user.actions\";\n\nconst initialState = {};\n\nexport default function userReducer(state = initialState, action) {\n  switch (action.type) {\n    case GET_USER:\n      return action.payload;\n    case UPLOAD_PICTURE:\n      return {\n        ...state,\n        picture: action.payload,\n      };\n    case UPDATE_BIO:\n      return {\n        ...state,\n        bio: action.payload,\n      };\n    case FOLLOW_USER:\n      return {\n        ...state,\n        following: [action.payload.idToFollow, ...state.following],\n      };\n    case UNFOLLOW_USER:\n      return {\n        ...state,\n        following: state.following.filter(\n          (id) => id !== action.payload.id.idToUnfollow\n        ),\n      };\n    default:\n      return state;\n  }\n}\n","import { getAllUsers } from \"../services\";\n\nexport const GET_USERS = \"GET_USERS\";\n\nexport const getUsers = () => {\n  return async (dispatch) => {\n    try {\n      const users = await getAllUsers();\n      dispatch({ type: GET_USERS, payload: users.data });\n    } catch (err) {\n      console.log(err);\n    }\n  };\n};\n","import { GET_USERS } from \"../actions/users.actions\";\n\nconst initialState = {};\n\nexport default function usersReducer(state = initialState, action) {\n  switch (action.type) {\n    case GET_USERS:\n      return action.payload;\n    default:\n      return state;\n  }\n}\n","import {\n  DELETE_COMMENT,\n  DELETE_POST,\n  EDIT_COMMENT,\n  GET_POSTS,\n  LIKE_POST,\n  UNLIKE_POST,\n  UPDATE_POST,\n} from \"../actions/post.actions\";\n\nconst initialState = {};\n\nexport default function postReducer(state = initialState, action) {\n  switch (action.type) {\n    case GET_POSTS:\n      return action.payload;\n    case LIKE_POST:\n      return state.map((post) => {\n        if (post._id === action.payload.postId) {\n          return { ...post, likers: [action.payload.userId, ...post.likers] };\n        }\n        return post;\n      });\n    case UNLIKE_POST:\n      return state.map((post) => {\n        if (post._id === action.payload.postId) {\n          return {\n            ...post,\n            likers: post.likers.filter((id) => id !== action.payload.userId),\n          };\n        }\n        return post;\n      });\n    case UPDATE_POST:\n      return state.map((post) => {\n        if (post._id === action.payload.postId) {\n          return {\n            ...post,\n            message: action.payload.message,\n          };\n        }\n        return post;\n      });\n    case DELETE_POST:\n      return state.filter((post) => post._id !== action.payload.postId);\n    case EDIT_COMMENT:\n      return state.map((post) => {\n        if (post._id === action.payload.postId) {\n          return {\n            ...post,\n            comments: post.comments.map((comment) => {\n              if (comment._id === action.payload.commentId) {\n                return {\n                  ...comment,\n                  text: action.payload.text,\n                };\n              } else return comment;\n            }),\n          };\n        } else return post;\n      });\n    case DELETE_COMMENT:\n      return state.map((post) => {\n        if (post._id === action.payload.postId) {\n          return {\n            ...post,\n            comments: post.comments.filter(\n              (comment) => comment._id !== action.payload.commentId\n            ),\n          };\n        } else return post;\n      });\n    default:\n      return state;\n  }\n}\n","import { GET_POST_ERRORS } from \"../actions/post.actions\";\nimport { GET_USER_ERRORS } from \"../actions/user.actions\";\n\nconst initialState = { postErrors: [], userErrors: [] };\n\nexport default function errorReducer(state = initialState, action) {\n  switch (action.type) {\n    case GET_POST_ERRORS:\n      return {\n        postErrors: action.payload,\n        userErrors: [],\n      };\n    case GET_USER_ERRORS:\n      return {\n        postErrors: [],\n        userErrors: action.payload,\n      };\n    default:\n      return state;\n  }\n}\n","import { GET_ALL_POSTS } from \"../actions/post.actions\";\n\nconst initialState = {};\n\nexport default function allPostsReducer(state = initialState, action) {\n  switch (action.type) {\n    case GET_ALL_POSTS:\n      return action.payload;\n    default:\n      return state;\n  }\n}\n","import { GET_TRENDS } from \"../actions/post.actions\";\n\nconst initialState = {};\n\nexport default function trendingReducer(state = initialState, action) {\n  switch (action.type) {\n    case GET_TRENDS:\n      return action.payload;\n    default:\n      return state;\n  }\n}\n","import { combineReducers } from \"redux\";\nimport userReducer from \"./user.reducer\";\nimport usersReducer from \"./users.reducer\";\nimport postReducer from \"./post.reducer\";\nimport errorReducer from \"./error.reducer\";\nimport allPostsReducer from \"./allPosts.reducer\";\nimport trendingReducer from \"./Trending.reducer\";\n\nexport default combineReducers({\n  user: userReducer,\n  users: usersReducer,\n  posts: postReducer,\n  errors: errorReducer,\n  allPosts: allPostsReducer,\n  trends: trendingReducer,\n});\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport App from \"./App\";\nimport \"./styles/index.scss\";\nimport { Provider } from \"react-redux\";\nimport { applyMiddleware, createStore } from \"redux\";\nimport thunk from \"redux-thunk\";\nimport rootReducer from \"./reducers\";\nimport { getUsers } from \"./actions/users.actions\";\n// Dev tools\nimport { composeWithDevTools } from \"redux-devtools-extension\";\nimport { getPosts } from \"./actions/post.actions\";\n//import { logger } from \"redux-logger\";\n\nconst store = createStore(\n  rootReducer,\n  composeWithDevTools(applyMiddleware(thunk))\n);\n\nstore.dispatch(getUsers());\nstore.dispatch(getPosts());\n\nReactDOM.render(\n  <Provider store={store}>\n    <App />\n  </Provider>,\n  document.getElementById(\"root\")\n);\n"],"sourceRoot":""}